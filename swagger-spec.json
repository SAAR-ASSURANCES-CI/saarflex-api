{
  "openapi": "3.0.0",
  "paths": {
    "/": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/health": {
      "get": {
        "operationId": "AppController_healthCheck",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/users/register": {
      "post": {
        "description": "Créer un nouveau compte utilisateur avec validation des données et génération automatique du token JWT",
        "operationId": "AuthController_register",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Utilisateur créé avec succès avec token JWT",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "statusCode": {
                      "type": "number",
                      "example": 400
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Email ou téléphone déjà utilisé",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Un utilisateur avec cet email existe déjà"
                    },
                    "statusCode": {
                      "type": "number",
                      "example": 409
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Inscription d'un nouvel utilisateur",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/users/login": {
      "post": {
        "description": "Vérifie les identifiants, génère un token JWT, crée une session et renvoie les informations de connexion.",
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Connexion réussie",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Identifiants invalides"
          },
          "403": {
            "description": "Compte bloqué"
          }
        },
        "summary": "Connexion utilisateur",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/users/forgot-password": {
      "post": {
        "operationId": "AuthController_forgotPassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Code envoyé si le compte existe"
          }
        },
        "summary": "Mot de passe oublié - envoi du code OTP",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/users/verify-otp": {
      "post": {
        "operationId": "AuthController_verifyOtp",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyOtpDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Code valide"
          },
          "400": {
            "description": "Code invalide ou expiré"
          }
        },
        "summary": "Vérifier le code OTP",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/users/reset-password": {
      "post": {
        "operationId": "AuthController_resetPassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mot de passe mis à jour"
          },
          "400": {
            "description": "Code invalide ou expiré"
          }
        },
        "summary": "Réinitialiser le mot de passe via code OTP",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/users/change-password-first-login": {
      "post": {
        "description": "Permet à un utilisateur (notamment un agent) de changer son mot de passe temporaire lors de sa première connexion",
        "operationId": "AuthController_changePasswordOnFirstLogin",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordFirstLoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mot de passe changé avec succès"
          },
          "400": {
            "description": "Données invalides ou pas besoin de changer le mot de passe"
          },
          "401": {
            "description": "Non authentifié ou mot de passe actuel incorrect"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Changer le mot de passe lors de la première connexion",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/users/logout": {
      "post": {
        "description": "Invalide toutes les sessions actives de l'utilisateur connecté",
        "operationId": "AuthController_logout",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Déconnexion réussie"
          },
          "401": {
            "description": "Non authentifié"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Déconnexion utilisateur",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/users/me": {
      "get": {
        "operationId": "ProfileController_getMe",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Profil récupéré avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileDto"
                }
              }
            }
          },
          "401": {
            "description": "Non authentifié"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mon profil",
        "tags": [
          "Profile"
        ]
      },
      "patch": {
        "operationId": "ProfileController_updateMe",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfileDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profil mis à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non authentifié"
          },
          "409": {
            "description": "Email ou téléphone déjà utilisé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour mon profil",
        "tags": [
          "Profile"
        ]
      }
    },
    "/profiles/upload/avatar": {
      "post": {
        "description": "Upload de la photo de profil de l'utilisateur connecté",
        "operationId": "UploadController_uploadAvatar",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Fichier image pour l'avatar",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Fichier image (JPG, PNG, WebP)"
                  }
                },
                "required": [
                  "file"
                ],
                "$ref": "#/components/schemas/"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Avatar uploadé avec succès"
          },
          "400": {
            "description": "Données invalides ou erreur de validation du fichier"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Upload de la photo de profil",
        "tags": [
          "Upload de fichiers"
        ]
      }
    },
    "/profiles/upload/images": {
      "post": {
        "description": "Upload des photos recto et verso de la carte d'identité de l'utilisateur connecté",
        "operationId": "UploadController_uploadIdentityPhotos",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Fichiers images de la carte d'identité",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Fichiers images (recto et verso de la carte d'identité)",
                    "minItems": 2,
                    "maxItems": 2
                  }
                },
                "required": [
                  "files"
                ],
                "$ref": "#/components/schemas/"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Photos uploadées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadImagesResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides ou erreur de validation des fichiers",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "500": {
            "description": "Erreur interne du serveur"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Upload des photos de carte d'identité",
        "tags": [
          "Upload de fichiers"
        ]
      }
    },
    "/profiles/devis/{devisId}/upload/assure-images": {
      "post": {
        "description": "Upload des photos recto et verso de la carte d'identité de l'assuré (quand assuré ≠ souscripteur)",
        "operationId": "UploadController_uploadAssureIdentityPhotos",
        "parameters": [
          {
            "name": "devisId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Fichiers images de la carte d'identité de l'assuré",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Fichiers images (recto et verso de la carte d'identité de l'assuré)",
                    "minItems": 2,
                    "maxItems": 2
                  }
                },
                "required": [
                  "files"
                ],
                "$ref": "#/components/schemas/"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Photos de l'assuré uploadées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadImagesResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides ou erreur de validation des fichiers",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "404": {
            "description": "Devis non trouvé ou vous n'avez pas les droits"
          },
          "500": {
            "description": "Erreur interne du serveur"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Upload des photos de carte d'identité de l'assuré",
        "tags": [
          "Upload de fichiers"
        ]
      }
    },
    "/admin/agents": {
      "post": {
        "description": "Endpoint administrateur pour créer un compte agent. Un mot de passe temporaire est généré et envoyé par email.",
        "operationId": "AgentsAdminController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAgentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Agent créé avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "409": {
            "description": "Email ou téléphone déjà utilisé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Créer un nouvel agent",
        "tags": [
          "Administration - Gestion des Agents"
        ]
      },
      "get": {
        "description": "Endpoint administrateur pour lister tous les utilisateurs avec pagination, filtres et recherche",
        "operationId": "AgentsAdminController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page (défaut: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page (défaut: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "type_utilisateur",
            "required": false,
            "in": "query",
            "description": "Filtre par type d'utilisateur",
            "schema": {
              "enum": [
                "admin",
                "agent"
              ],
              "type": "string"
            }
          },
          {
            "name": "statut",
            "required": false,
            "in": "query",
            "description": "Filtre par statut (true = actif, false = suspendu)",
            "schema": {
              "example": true,
              "type": "boolean"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Recherche par nom ou email",
            "schema": {
              "example": "Jean",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des utilisateurs récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentsResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer tous les utilisateurs (admin et agent)",
        "tags": [
          "Administration - Gestion des Agents"
        ]
      }
    },
    "/admin/agents/{id}": {
      "get": {
        "description": "Endpoint administrateur pour récupérer les détails d'un agent spécifique",
        "operationId": "AgentsAdminController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de l'agent",
            "schema": {
              "example": "uuid-de-l-agent",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Agent récupéré avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Agent non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer un agent par ID",
        "tags": [
          "Administration - Gestion des Agents"
        ]
      },
      "patch": {
        "description": "Endpoint administrateur pour modifier les informations d'un agent",
        "operationId": "AgentsAdminController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de l'agent",
            "schema": {
              "example": "uuid-de-l-agent",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAgentDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Agent mis à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Agent non trouvé"
          },
          "409": {
            "description": "Email ou téléphone déjà utilisé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour un agent",
        "tags": [
          "Administration - Gestion des Agents"
        ]
      }
    },
    "/admin/agents/{id}/suspend": {
      "patch": {
        "description": "Endpoint administrateur pour suspendre le compte d'un agent. Toutes ses sessions seront invalidées.",
        "operationId": "AgentsAdminController_suspend",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de l'agent",
            "schema": {
              "example": "uuid-de-l-agent",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Agent suspendu avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Agent déjà suspendu"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Agent non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Suspendre un agent",
        "tags": [
          "Administration - Gestion des Agents"
        ]
      }
    },
    "/admin/agents/{id}/activate": {
      "patch": {
        "description": "Endpoint administrateur pour réactiver le compte d'un agent suspendu",
        "operationId": "AgentsAdminController_activate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de l'agent",
            "schema": {
              "example": "uuid-de-l-agent",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Agent réactivé avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Agent déjà actif"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Agent non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Réactiver un agent",
        "tags": [
          "Administration - Gestion des Agents"
        ]
      }
    },
    "/admin/agents/{id}/reset-password": {
      "post": {
        "description": "Endpoint administrateur pour réinitialiser le mot de passe d'un agent. Un nouveau mot de passe temporaire est généré et envoyé par email. L'agent devra changer son mot de passe à sa prochaine connexion.",
        "operationId": "AgentsAdminController_resetPassword",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de l'agent",
            "schema": {
              "example": "uuid-de-l-agent",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mot de passe réinitialisé avec succès. Email envoyé à l'agent.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Agent non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Réinitialiser le mot de passe d'un agent",
        "tags": [
          "Administration - Gestion des Agents"
        ]
      }
    },
    "/emailing/variables": {
      "get": {
        "operationId": "EmailMessagingController_getVariables",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Liste des variables dynamiques",
        "tags": [
          "Emails Messaging"
        ]
      }
    },
    "/emailing/send": {
      "post": {
        "description": "Permet à un administrateur ou un agent d'envoyer un email à un destinataire spécifique.",
        "operationId": "EmailMessagingController_sendManualEmail",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendEmailDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email envoyé avec succès"
          },
          "401": {
            "description": "Non autorisé - Token manquant ou invalide"
          },
          "403": {
            "description": "Accès refusé - Réservé aux administrateurs et agents"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Envoyer un email manuel",
        "tags": [
          "Emails Messaging"
        ]
      }
    },
    "/email-templates": {
      "post": {
        "operationId": "EmailTemplateController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEmailTemplateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Modèle créé avec succès"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Créer un nouveau modèle d'email",
        "tags": [
          "Email Templates"
        ]
      },
      "get": {
        "operationId": "EmailTemplateController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Liste des modèles d'emails",
        "tags": [
          "Email Templates"
        ]
      }
    },
    "/email-templates/{id}": {
      "get": {
        "operationId": "EmailTemplateController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Détails d'un modèle",
        "tags": [
          "Email Templates"
        ]
      },
      "patch": {
        "operationId": "EmailTemplateController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEmailTemplateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Modifier un modèle d'email",
        "tags": [
          "Email Templates"
        ]
      },
      "delete": {
        "operationId": "EmailTemplateController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer un modèle d'email (Admin)",
        "tags": [
          "Email Templates"
        ]
      }
    },
    "/admin/produits": {
      "post": {
        "description": "Endpoint réservé aux administrateurs pour créer un nouveau produit d'assurance",
        "operationId": "ProduitsAdminController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProduitDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Produit créé avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProduitAdminDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Branche non trouvée"
          },
          "409": {
            "description": "Conflit - Un produit avec ce nom existe déjà"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Créer un nouveau produit d'assurance",
        "tags": [
          "Administration - Produits d'Assurance"
        ]
      },
      "get": {
        "description": "Endpoint réservé aux administrateurs pour lister tous les produits avec pagination et filtres",
        "operationId": "ProduitsAdminController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page (défaut: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page (défaut: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Recherche par nom de produit",
            "schema": {
              "example": "Auto",
              "type": "string"
            }
          },
          {
            "name": "branch_id",
            "required": false,
            "in": "query",
            "description": "Filtrer par ID de branche",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "statut",
            "required": false,
            "in": "query",
            "description": "Filtrer par statut (brouillon, actif, inactif)",
            "schema": {
              "example": "actif",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des produits récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProduitsAdminResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer tous les produits (admin)",
        "tags": [
          "Administration - Produits d'Assurance"
        ]
      }
    },
    "/admin/produits/{id}": {
      "get": {
        "description": "Endpoint réservé aux administrateurs pour consulter un produit spécifique",
        "operationId": "ProduitsAdminController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du produit (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Produit récupéré avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProduitAdminDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Produit non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer un produit par ID (admin)",
        "tags": [
          "Administration - Produits d'Assurance"
        ]
      },
      "put": {
        "description": "Endpoint réservé aux administrateurs pour modifier un produit existant",
        "operationId": "ProduitsAdminController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du produit (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProduitDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Produit mis à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProduitAdminDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Produit ou branche non trouvé"
          },
          "409": {
            "description": "Conflit - Un produit avec ce nom existe déjà"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour un produit existant",
        "tags": [
          "Administration - Produits d'Assurance"
        ]
      },
      "delete": {
        "description": "Endpoint réservé aux administrateurs pour supprimer un produit (seulement s'il n'a pas d'éléments associés)",
        "operationId": "ProduitsAdminController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du produit (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Produit supprimé avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Produit supprimé avec succès"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Impossible de supprimer - Le produit a des éléments associés"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Produit non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer un produit",
        "tags": [
          "Administration - Produits d'Assurance"
        ]
      }
    },
    "/admin/produits/{id}/status": {
      "put": {
        "description": "Endpoint réservé aux administrateurs pour modifier le statut d'un produit",
        "operationId": "ProduitsAdminController_changeStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du produit (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "statut": {
                    "type": "string",
                    "enum": [
                      "brouillon",
                      "actif",
                      "inactif"
                    ],
                    "description": "Nouveau statut du produit",
                    "example": "actif"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Statut du produit mis à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProduitAdminDto"
                }
              }
            }
          },
          "400": {
            "description": "Statut invalide"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Produit non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Changer le statut d'un produit",
        "tags": [
          "Administration - Produits d'Assurance"
        ]
      }
    },
    "/admin/branches": {
      "post": {
        "description": "Endpoint réservé aux administrateurs pour créer une nouvelle branche de produit",
        "operationId": "BranchesAdminController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBrancheProduitDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Branche créée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrancheProduitAdminDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "409": {
            "description": "Conflit - Une branche avec ce nom existe déjà"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Créer une nouvelle branche de produit",
        "tags": [
          "Administration - Branches de Produits"
        ]
      },
      "get": {
        "description": "Endpoint réservé aux administrateurs pour lister toutes les branches avec pagination",
        "operationId": "BranchesAdminController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page (défaut: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page (défaut: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des branches récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BranchesResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer toutes les branches (admin)",
        "tags": [
          "Administration - Branches de Produits"
        ]
      }
    },
    "/admin/branches/{id}": {
      "get": {
        "description": "Endpoint réservé aux administrateurs pour consulter une branche spécifique",
        "operationId": "BranchesAdminController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la branche (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Branche récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrancheProduitAdminDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Branche non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer une branche par ID (admin)",
        "tags": [
          "Administration - Branches de Produits"
        ]
      },
      "put": {
        "description": "Endpoint réservé aux administrateurs pour modifier une branche existante",
        "operationId": "BranchesAdminController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la branche (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBrancheProduitDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Branche mise à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrancheProduitAdminDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Branche non trouvée"
          },
          "409": {
            "description": "Conflit - Une branche avec ce nom existe déjà"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour une branche existante",
        "tags": [
          "Administration - Branches de Produits"
        ]
      },
      "delete": {
        "description": "Endpoint réservé aux administrateurs pour supprimer une branche (seulement si elle n'a pas de produits)",
        "operationId": "BranchesAdminController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la branche (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Branche supprimée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Branche supprimée avec succès"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Impossible de supprimer - La branche contient des produits"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Branche non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer une branche",
        "tags": [
          "Administration - Branches de Produits"
        ]
      }
    },
    "/admin/branches/reorder": {
      "post": {
        "description": "Endpoint réservé aux administrateurs pour modifier l'ordre d'affichage des branches",
        "operationId": "BranchesAdminController_reorderBranches",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "brancheIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Liste des IDs de branches dans le nouvel ordre",
                    "example": [
                      "uuid1",
                      "uuid2",
                      "uuid3"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ordre des branches mis à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Ordre des branches mis à jour avec succès"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Liste des IDs de branches invalide"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Réorganiser l'ordre des branches",
        "tags": [
          "Administration - Branches de Produits"
        ]
      }
    },
    "/admin/categories": {
      "post": {
        "operationId": "CategoriesAdminController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCategorieDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "CategoriesAdmin"
        ]
      },
      "get": {
        "operationId": "CategoriesAdminController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "CategoriesAdmin"
        ]
      }
    },
    "/admin/categories/{id}": {
      "get": {
        "operationId": "CategoriesAdminController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "CategoriesAdmin"
        ]
      },
      "patch": {
        "operationId": "CategoriesAdminController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCategorieDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "CategoriesAdmin"
        ]
      },
      "delete": {
        "operationId": "CategoriesAdminController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "CategoriesAdmin"
        ]
      }
    },
    "/admin/categories/branche/{brancheId}": {
      "get": {
        "operationId": "CategoriesAdminController_findByBranche",
        "parameters": [
          {
            "name": "brancheId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "CategoriesAdmin"
        ]
      }
    },
    "/admin/criteres": {
      "post": {
        "description": "Endpoint réservé aux administrateurs pour créer un critère de tarification avec ses valeurs possibles",
        "operationId": "CriteresAdminController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCritereTarificationDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Critère créé avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CritereTarificationAdminDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Produit non trouvé"
          },
          "409": {
            "description": "Conflit - Un critère avec ce nom existe déjà pour ce produit"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Créer un nouveau critère de tarification",
        "tags": [
          "Administration - Critères de Tarification"
        ]
      }
    },
    "/admin/criteres/produit/{produitId}": {
      "get": {
        "description": "Endpoint réservé aux administrateurs pour lister tous les critères d'un produit spécifique",
        "operationId": "CriteresAdminController_findAllByProduit",
        "parameters": [
          {
            "name": "produitId",
            "required": true,
            "in": "path",
            "description": "ID du produit (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page (défaut: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page (défaut: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Critères récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CriteresAdminResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer tous les critères d'un produit",
        "tags": [
          "Administration - Critères de Tarification"
        ]
      }
    },
    "/admin/criteres/{id}": {
      "get": {
        "description": "Endpoint réservé aux administrateurs pour consulter un critère spécifique",
        "operationId": "CriteresAdminController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du critère (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Critère récupéré avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CritereTarificationAdminDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Critère non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer un critère par ID",
        "tags": [
          "Administration - Critères de Tarification"
        ]
      },
      "put": {
        "description": "Endpoint réservé aux administrateurs pour modifier un critère existant",
        "operationId": "CriteresAdminController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du critère (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCritereTarificationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Critère mis à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CritereTarificationAdminDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Critère non trouvé"
          },
          "409": {
            "description": "Conflit - Un critère avec ce nom existe déjà pour ce produit"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour un critère existant",
        "tags": [
          "Administration - Critères de Tarification"
        ]
      },
      "delete": {
        "description": "Endpoint réservé aux administrateurs pour supprimer un critère et ses valeurs associées",
        "operationId": "CriteresAdminController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du critère (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Critère supprimé avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Critère supprimé avec succès"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Critère non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer un critère",
        "tags": [
          "Administration - Critères de Tarification"
        ]
      }
    },
    "/admin/criteres/{critereId}/valeurs": {
      "post": {
        "description": "Endpoint réservé aux administrateurs pour ajouter une valeur possible à un critère existant",
        "operationId": "CriteresAdminController_addValeur",
        "parameters": [
          {
            "name": "critereId",
            "required": true,
            "in": "path",
            "description": "ID du critère (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateValeurCritereDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Valeur ajoutée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValeurCritereDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides ou incompatibles avec le type de critère"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Critère non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Ajouter une valeur à un critère",
        "tags": [
          "Administration - Critères de Tarification"
        ]
      }
    },
    "/admin/criteres/valeurs/{valeurId}": {
      "put": {
        "description": "Endpoint réservé aux administrateurs pour modifier une valeur de critère existante",
        "operationId": "CriteresAdminController_updateValeur",
        "parameters": [
          {
            "name": "valeurId",
            "required": true,
            "in": "path",
            "description": "ID de la valeur (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateValeurCritereDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Valeur mise à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValeurCritereDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides ou incompatibles avec le type de critère"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Valeur non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour une valeur de critère",
        "tags": [
          "Administration - Critères de Tarification"
        ]
      },
      "delete": {
        "description": "Endpoint réservé aux administrateurs pour supprimer une valeur de critère",
        "operationId": "CriteresAdminController_removeValeur",
        "parameters": [
          {
            "name": "valeurId",
            "required": true,
            "in": "path",
            "description": "ID de la valeur (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Valeur supprimée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Valeur supprimée avec succès"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Valeur non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer une valeur de critère",
        "tags": [
          "Administration - Critères de Tarification"
        ]
      }
    },
    "/admin/garanties": {
      "post": {
        "description": "Endpoint administrateur pour créer une nouvelle garantie d'assurance",
        "operationId": "GarantiesAdminController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGarantieDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Garantie créée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GarantieWithProduitDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Produit non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Créer une nouvelle garantie",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      },
      "get": {
        "description": "Endpoint administrateur pour lister toutes les garanties avec pagination et données du produit associé",
        "operationId": "GarantiesAdminController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page (défaut: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page (défaut: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des garanties avec données du produit récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GarantiesWithProduitResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer toutes les garanties",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      }
    },
    "/admin/garanties/produit/{produitId}": {
      "get": {
        "description": "Endpoint administrateur pour lister toutes les garanties d'un produit spécifique avec données du produit",
        "operationId": "GarantiesAdminController_findAllByProduit",
        "parameters": [
          {
            "name": "produitId",
            "required": true,
            "in": "path",
            "description": "ID du produit",
            "schema": {
              "example": "uuid-du-produit",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Garanties du produit avec données du produit récupérées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GarantieWithProduitDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les garanties d'un produit",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      }
    },
    "/admin/garanties/{id}": {
      "get": {
        "description": "Endpoint administrateur pour récupérer les détails d'une garantie spécifique avec données du produit associé",
        "operationId": "GarantiesAdminController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la garantie",
            "schema": {
              "example": "uuid-de-la-garantie",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Garantie avec données du produit récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GarantieWithProduitDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Garantie non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer une garantie par ID",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      },
      "patch": {
        "description": "Endpoint administrateur pour modifier une garantie existante",
        "operationId": "GarantiesAdminController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la garantie",
            "schema": {
              "example": "uuid-de-la-garantie",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateGarantieDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Garantie mise à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GarantieWithProduitDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Garantie non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour une garantie",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      },
      "delete": {
        "description": "Endpoint administrateur pour supprimer une garantie",
        "operationId": "GarantiesAdminController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la garantie",
            "schema": {
              "example": "uuid-de-la-garantie",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Garantie supprimée avec succès"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Garantie non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer une garantie",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      }
    },
    "/admin/garanties/{garantieId}/criteres": {
      "post": {
        "description": "Endpoint administrateur pour ajouter un critère qui conditionne l'activation d'une garantie",
        "operationId": "GarantiesAdminController_addCritere",
        "parameters": [
          {
            "name": "garantieId",
            "required": true,
            "in": "path",
            "description": "ID de la garantie",
            "schema": {
              "example": "uuid-de-la-garantie",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGarantieCritereDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Critère ajouté avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GarantieCritereDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "404": {
            "description": "Garantie non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Ajouter un critère conditionnel à une garantie",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      },
      "get": {
        "description": "Endpoint administrateur pour lister tous les critères qui conditionnent une garantie",
        "operationId": "GarantiesAdminController_getCriteresByGarantie",
        "parameters": [
          {
            "name": "garantieId",
            "required": true,
            "in": "path",
            "description": "ID de la garantie",
            "schema": {
              "example": "uuid-de-la-garantie",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Critères récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GarantieCritereDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les critères conditionnels d'une garantie",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      }
    },
    "/admin/garanties/criteres/{id}": {
      "patch": {
        "description": "Endpoint administrateur pour modifier un critère conditionnel existant",
        "operationId": "GarantiesAdminController_updateCritere",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du critère conditionnel",
            "schema": {
              "example": "uuid-du-critere",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateGarantieCritereDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Critère mis à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GarantieCritereDto"
                }
              }
            }
          },
          "404": {
            "description": "Critère non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour un critère conditionnel",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      },
      "delete": {
        "description": "Endpoint administrateur pour supprimer un critère conditionnel",
        "operationId": "GarantiesAdminController_removeCritere",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du critère conditionnel",
            "schema": {
              "example": "uuid-du-critere",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Critère supprimé avec succès"
          },
          "404": {
            "description": "Critère non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer un critère conditionnel",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      }
    },
    "/admin/garanties/{garantieId}/tarifs": {
      "post": {
        "description": "Endpoint administrateur pour créer un nouveau tarif pour une garantie spécifique",
        "operationId": "GarantiesAdminController_createTarif",
        "parameters": [
          {
            "name": "garantieId",
            "required": true,
            "in": "path",
            "description": "ID de la garantie",
            "schema": {
              "example": "uuid-de-la-garantie",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTarifGarantieDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tarif créé avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TarifGarantieDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "404": {
            "description": "Garantie non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Créer un tarif pour une garantie",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      },
      "get": {
        "description": "Endpoint administrateur pour lister tous les tarifs d'une garantie spécifique",
        "operationId": "GarantiesAdminController_getTarifsByGarantie",
        "parameters": [
          {
            "name": "garantieId",
            "required": true,
            "in": "path",
            "description": "ID de la garantie",
            "schema": {
              "example": "uuid-de-la-garantie",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tarifs récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TarifGarantieDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les tarifs d'une garantie",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      }
    },
    "/admin/garanties/tarifs/{id}": {
      "patch": {
        "description": "Endpoint administrateur pour modifier un tarif existant",
        "operationId": "GarantiesAdminController_updateTarif",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du tarif",
            "schema": {
              "example": "uuid-du-tarif",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTarifGarantieDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tarif mis à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TarifGarantieDto"
                }
              }
            }
          },
          "404": {
            "description": "Tarif non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour un tarif de garantie",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      },
      "delete": {
        "description": "Endpoint administrateur pour supprimer un tarif",
        "operationId": "GarantiesAdminController_removeTarif",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du tarif",
            "schema": {
              "example": "uuid-du-tarif",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Tarif supprimé avec succès"
          },
          "404": {
            "description": "Tarif non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer un tarif de garantie",
        "tags": [
          "Administration - Gestion des Garanties"
        ]
      }
    },
    "/admin/grilles-tarifaires": {
      "post": {
        "description": "Endpoint administrateur pour créer une nouvelle grille tarifaire d'assurance",
        "operationId": "GrillesTarifairesAdminController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGrilleTarifaireDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Grille tarifaire créée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GrilleTarifaireWithProduitDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Produit non trouvé"
          },
          "409": {
            "description": "Conflit de dates avec une grille active existante"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Créer une nouvelle grille tarifaire",
        "tags": [
          "Administration - Gestion des Grilles Tarifaires"
        ]
      },
      "get": {
        "description": "Endpoint administrateur pour lister toutes les grilles tarifaires avec pagination et données du produit associé",
        "operationId": "GrillesTarifairesAdminController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page (défaut: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page (défaut: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des grilles tarifaires avec données du produit récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GrillesTarifairesWithProduitResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer toutes les grilles tarifaires",
        "tags": [
          "Administration - Gestion des Grilles Tarifaires"
        ]
      }
    },
    "/admin/grilles-tarifaires/produit/{produitId}": {
      "get": {
        "description": "Endpoint administrateur pour lister toutes les grilles tarifaires d'un produit spécifique avec données du produit",
        "operationId": "GrillesTarifairesAdminController_findAllByProduit",
        "parameters": [
          {
            "name": "produitId",
            "required": true,
            "in": "path",
            "description": "ID du produit",
            "schema": {
              "example": "uuid-du-produit",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Grilles tarifaires du produit avec données du produit récupérées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GrilleTarifaireWithProduitDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les grilles tarifaires d'un produit",
        "tags": [
          "Administration - Gestion des Grilles Tarifaires"
        ]
      }
    },
    "/admin/grilles-tarifaires/{id}": {
      "get": {
        "description": "Endpoint administrateur pour récupérer les détails d'une grille tarifaire spécifique avec données du produit associé",
        "operationId": "GrillesTarifairesAdminController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la grille tarifaire",
            "schema": {
              "example": "uuid-de-la-grille",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Grille tarifaire avec données du produit récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GrilleTarifaireWithProduitDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Grille tarifaire non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer une grille tarifaire par ID",
        "tags": [
          "Administration - Gestion des Grilles Tarifaires"
        ]
      },
      "patch": {
        "description": "Endpoint administrateur pour modifier une grille tarifaire existante",
        "operationId": "GrillesTarifairesAdminController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la grille tarifaire",
            "schema": {
              "example": "uuid-de-la-grille",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateGrilleTarifaireDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Grille tarifaire mise à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GrilleTarifaireWithProduitDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Grille tarifaire non trouvée"
          },
          "409": {
            "description": "Conflit de dates avec une grille active existante"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour une grille tarifaire",
        "tags": [
          "Administration - Gestion des Grilles Tarifaires"
        ]
      },
      "delete": {
        "description": "Endpoint administrateur pour supprimer une grille tarifaire (seulement si elle n'a pas de tarifs associés)",
        "operationId": "GrillesTarifairesAdminController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la grille tarifaire",
            "schema": {
              "example": "uuid-de-la-grille",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Grille tarifaire supprimée avec succès"
          },
          "400": {
            "description": "Impossible de supprimer - Tarifs associés existants"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Grille tarifaire non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer une grille tarifaire",
        "tags": [
          "Administration - Gestion des Grilles Tarifaires"
        ]
      }
    },
    "/admin/grilles-tarifaires/{id}/status": {
      "patch": {
        "description": "Endpoint administrateur pour changer le statut d'une grille tarifaire (actif, inactif, futur)",
        "operationId": "GrillesTarifairesAdminController_changeStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la grille tarifaire",
            "schema": {
              "example": "uuid-de-la-grille",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Statut de la grille tarifaire modifié avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GrilleTarifaireWithProduitDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Grille tarifaire non trouvée"
          },
          "409": {
            "description": "Conflit de dates avec une grille active existante"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Changer le statut d'une grille tarifaire",
        "tags": [
          "Administration - Gestion des Grilles Tarifaires"
        ]
      }
    },
    "/admin/grilles-tarifaires/{id}/tarifs": {
      "get": {
        "description": "Endpoint administrateur pour lister tous les tarifs d'une grille tarifaire spécifique",
        "operationId": "GrillesTarifairesAdminController_getTarifsByGrille",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la grille tarifaire",
            "schema": {
              "example": "uuid-de-la-grille",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tarifs de la grille tarifaire récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Grille tarifaire non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les tarifs d'une grille tarifaire",
        "tags": [
          "Administration - Gestion des Grilles Tarifaires"
        ]
      }
    },
    "/admin/tarifs": {
      "post": {
        "description": "Endpoint administrateur pour créer un nouveau tarif d'assurance",
        "operationId": "TarifsAdminController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTarifDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tarif créé avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TarifWithGrilleDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides ou grille inactive"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Grille tarifaire non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Créer un nouveau tarif",
        "tags": [
          "Administration - Gestion des Tarifs"
        ]
      },
      "get": {
        "description": "Endpoint administrateur pour lister tous les tarifs avec pagination et données de la grille associée",
        "operationId": "TarifsAdminController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page (défaut: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page (défaut: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des tarifs avec données de la grille récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TarifsWithGrilleResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer tous les tarifs",
        "tags": [
          "Administration - Gestion des Tarifs"
        ]
      }
    },
    "/admin/tarifs/grille/{grilleId}": {
      "get": {
        "description": "Endpoint administrateur pour lister tous les tarifs d'une grille tarifaire spécifique avec données de la grille",
        "operationId": "TarifsAdminController_findAllByGrille",
        "parameters": [
          {
            "name": "grilleId",
            "required": true,
            "in": "path",
            "description": "ID de la grille tarifaire",
            "schema": {
              "example": "uuid-de-la-grille",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tarifs de la grille avec données de la grille récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TarifWithGrilleDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les tarifs d'une grille tarifaire",
        "tags": [
          "Administration - Gestion des Tarifs"
        ]
      }
    },
    "/admin/tarifs/produit/{produitId}": {
      "get": {
        "description": "Endpoint administrateur pour lister tous les tarifs d'un produit spécifique avec données de la grille",
        "operationId": "TarifsAdminController_findAllByProduit",
        "parameters": [
          {
            "name": "produitId",
            "required": true,
            "in": "path",
            "description": "ID du produit",
            "schema": {
              "example": "uuid-du-produit",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tarifs du produit avec données de la grille récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TarifWithGrilleDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les tarifs d'un produit",
        "tags": [
          "Administration - Gestion des Tarifs"
        ]
      }
    },
    "/admin/tarifs/{id}": {
      "get": {
        "description": "Endpoint administrateur pour récupérer les détails d'un tarif spécifique avec données de la grille associée",
        "operationId": "TarifsAdminController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du tarif",
            "schema": {
              "example": "uuid-du-tarif",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tarif avec données de la grille récupéré avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TarifWithGrilleDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Tarif non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer un tarif par ID",
        "tags": [
          "Administration - Gestion des Tarifs"
        ]
      },
      "patch": {
        "description": "Endpoint administrateur pour modifier un tarif existant",
        "operationId": "TarifsAdminController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du tarif",
            "schema": {
              "example": "uuid-du-tarif",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTarifDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tarif mis à jour avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TarifWithGrilleDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Tarif non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour un tarif",
        "tags": [
          "Administration - Gestion des Tarifs"
        ]
      },
      "delete": {
        "description": "Endpoint administrateur pour supprimer un tarif",
        "operationId": "TarifsAdminController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du tarif",
            "schema": {
              "example": "uuid-du-tarif",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Tarif supprimé avec succès"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Tarif non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer un tarif",
        "tags": [
          "Administration - Gestion des Tarifs"
        ]
      }
    },
    "/admin/tarifs/grille/{grilleId}/calculer-prime": {
      "post": {
        "description": "Endpoint administrateur pour calculer une prime en fonction des critères fournis et de la grille tarifaire",
        "operationId": "TarifsAdminController_calculatePrime",
        "parameters": [
          {
            "name": "grilleId",
            "required": true,
            "in": "path",
            "description": "ID de la grille tarifaire",
            "schema": {
              "example": "uuid-de-la-grille",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Prime calculée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CalculPrimeResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Grille tarifaire non trouvée ou aucun tarif correspondant"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Calculer une prime basée sur des critères",
        "tags": [
          "Administration - Gestion des Tarifs"
        ]
      }
    },
    "/admin/tarifs/grille/{grilleId}/par-criteres": {
      "get": {
        "description": "Endpoint administrateur pour rechercher des tarifs correspondant à des critères spécifiques dans une grille",
        "operationId": "TarifsAdminController_findTarifsByCriteres",
        "parameters": [
          {
            "name": "grilleId",
            "required": true,
            "in": "path",
            "description": "ID de la grille tarifaire",
            "schema": {
              "example": "uuid-de-la-grille",
              "type": "string"
            }
          },
          {
            "name": "criteres",
            "required": true,
            "in": "query",
            "description": "Critères de recherche (JSON)",
            "schema": {
              "example": "{\"age\": \"25-30\", \"zone\": \"A\"}",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tarifs correspondants aux critères récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TarifDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Grille tarifaire non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Rechercher des tarifs par critères",
        "tags": [
          "Administration - Gestion des Tarifs"
        ]
      }
    },
    "/admin/devis": {
      "get": {
        "description": "Liste paginée des devis avec filtres et recherche. Accessible uniquement aux administrateurs.",
        "operationId": "DevisAdminController_getAllDevis",
        "parameters": [
          {
            "name": "statut",
            "required": false,
            "in": "query",
            "description": "Statut du devis",
            "schema": {
              "example": "sauvegarde",
              "type": "string",
              "enum": [
                "simulation",
                "sauvegarde",
                "en_attente_paiement",
                "paye",
                "converti_en_contrat",
                "expire"
              ]
            }
          },
          {
            "name": "produit_id",
            "required": false,
            "in": "query",
            "description": "ID du produit",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "utilisateur_id",
            "required": false,
            "in": "query",
            "description": "ID de l'utilisateur (client)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "date_debut",
            "required": false,
            "in": "query",
            "description": "Date de début (YYYY-MM-DD)",
            "schema": {
              "format": "date-time",
              "example": "2024-01-01",
              "type": "string"
            }
          },
          {
            "name": "date_fin",
            "required": false,
            "in": "query",
            "description": "Date de fin (YYYY-MM-DD)",
            "schema": {
              "format": "date-time",
              "example": "2024-12-31",
              "type": "string"
            }
          },
          {
            "name": "prime_min",
            "required": false,
            "in": "query",
            "description": "Prime minimum en FCFA",
            "schema": {
              "example": 10000,
              "type": "number"
            }
          },
          {
            "name": "prime_max",
            "required": false,
            "in": "query",
            "description": "Prime maximum en FCFA",
            "schema": {
              "example": 50000,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Recherche textuelle (nom produit, nom client, email)",
            "schema": {
              "example": "Assurance",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page",
            "schema": {
              "default": 10,
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des devis récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisListResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer la liste des devis (admin)",
        "tags": [
          "Administration - Devis"
        ]
      }
    },
    "/admin/devis/stats": {
      "get": {
        "description": "Statistiques globales sur les devis (total, par statut, primes, etc.)",
        "operationId": "DevisAdminController_getStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Statistiques récupérées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisStatsDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les statistiques des devis (admin)",
        "tags": [
          "Administration - Devis"
        ]
      }
    },
    "/admin/devis/{id}": {
      "get": {
        "description": "Consulter les détails complets d'un devis spécifique",
        "operationId": "DevisAdminController_getDevisById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID unique du devis (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Détails du devis récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisAdminDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Devis non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les détails d'un devis (admin)",
        "tags": [
          "Administration - Devis"
        ]
      },
      "delete": {
        "description": "Supprimer définitivement un devis. Accessible uniquement aux administrateurs.",
        "operationId": "DevisAdminController_deleteDevis",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID unique du devis (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Devis supprimé avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Devis supprimé avec succès"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Devis non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer un devis (admin)",
        "tags": [
          "Administration - Devis"
        ]
      }
    },
    "/admin/devis/{id}/statut": {
      "patch": {
        "description": "Mettre à jour le statut d'un devis. Accessible uniquement aux administrateurs.",
        "operationId": "DevisAdminController_updateStatut",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID unique du devis (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDevisStatutDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Statut du devis modifié avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisAdminDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits administrateur requis"
          },
          "404": {
            "description": "Devis non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Modifier le statut d'un devis (admin)",
        "tags": [
          "Administration - Devis"
        ]
      }
    },
    "/agent/devis": {
      "get": {
        "description": "Liste paginée des devis avec filtres et recherche. Accès en lecture seule pour les agents.",
        "operationId": "DevisAgentController_getAllDevis",
        "parameters": [
          {
            "name": "statut",
            "required": false,
            "in": "query",
            "description": "Statut du devis",
            "schema": {
              "example": "sauvegarde",
              "type": "string",
              "enum": [
                "simulation",
                "sauvegarde",
                "en_attente_paiement",
                "paye",
                "converti_en_contrat",
                "expire"
              ]
            }
          },
          {
            "name": "produit_id",
            "required": false,
            "in": "query",
            "description": "ID du produit",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "utilisateur_id",
            "required": false,
            "in": "query",
            "description": "ID de l'utilisateur (client)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "date_debut",
            "required": false,
            "in": "query",
            "description": "Date de début (YYYY-MM-DD)",
            "schema": {
              "format": "date-time",
              "example": "2024-01-01",
              "type": "string"
            }
          },
          {
            "name": "date_fin",
            "required": false,
            "in": "query",
            "description": "Date de fin (YYYY-MM-DD)",
            "schema": {
              "format": "date-time",
              "example": "2024-12-31",
              "type": "string"
            }
          },
          {
            "name": "prime_min",
            "required": false,
            "in": "query",
            "description": "Prime minimum en FCFA",
            "schema": {
              "example": 10000,
              "type": "number"
            }
          },
          {
            "name": "prime_max",
            "required": false,
            "in": "query",
            "description": "Prime maximum en FCFA",
            "schema": {
              "example": 50000,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Recherche textuelle (nom produit, nom client, email)",
            "schema": {
              "example": "Assurance",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page",
            "schema": {
              "default": 10,
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des devis récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisListResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits agent ou administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer la liste des devis (agent)",
        "tags": [
          "Agent - Devis"
        ]
      }
    },
    "/agent/devis/stats": {
      "get": {
        "description": "Statistiques globales sur les devis (total, par statut, primes, etc.). Accès en lecture seule.",
        "operationId": "DevisAgentController_getStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Statistiques récupérées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisStatsDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits agent ou administrateur requis"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les statistiques des devis (agent)",
        "tags": [
          "Agent - Devis"
        ]
      }
    },
    "/agent/devis/{id}": {
      "get": {
        "description": "Consulter les détails complets d'un devis spécifique. Accès en lecture seule.",
        "operationId": "DevisAgentController_getDevisById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID unique du devis (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Détails du devis récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisAdminDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Droits agent ou administrateur requis"
          },
          "404": {
            "description": "Devis non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les détails d'un devis (agent)",
        "tags": [
          "Agent - Devis"
        ]
      }
    },
    "/admin/contrats": {
      "get": {
        "description": "Liste paginée des contrats avec filtres.",
        "operationId": "ContratsAdminController_getAllContrats",
        "parameters": [
          {
            "name": "statut",
            "required": false,
            "in": "query",
            "description": "Statut du contrat",
            "schema": {
              "example": "actif",
              "type": "string",
              "enum": [
                "actif",
                "suspendu",
                "resilie",
                "expire"
              ]
            }
          },
          {
            "name": "produit_id",
            "required": false,
            "in": "query",
            "description": "ID du produit",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "utilisateur_id",
            "required": false,
            "in": "query",
            "description": "ID de l'utilisateur (client)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "date_debut",
            "required": false,
            "in": "query",
            "description": "Date de début de couverture (YYYY-MM-DD)",
            "schema": {
              "format": "date-time",
              "example": "2024-01-01",
              "type": "string"
            }
          },
          {
            "name": "date_fin",
            "required": false,
            "in": "query",
            "description": "Date de fin de couverture (YYYY-MM-DD)",
            "schema": {
              "format": "date-time",
              "example": "2024-12-31",
              "type": "string"
            }
          },
          {
            "name": "prime_min",
            "required": false,
            "in": "query",
            "description": "Prime minimale (mensuelle) en FCFA",
            "schema": {
              "example": 10000,
              "type": "number"
            }
          },
          {
            "name": "prime_max",
            "required": false,
            "in": "query",
            "description": "Prime maximale (mensuelle) en FCFA",
            "schema": {
              "example": 50000,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Recherche textuelle (numéro, nom produit, nom client, email)",
            "schema": {
              "example": "VIE-2025",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page",
            "schema": {
              "default": 10,
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste récupérée",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContratsListResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer la liste des contrats (admin)",
        "tags": [
          "Administration - Contrats"
        ]
      }
    },
    "/admin/contrats/stats": {
      "get": {
        "operationId": "ContratsAdminController_getStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Statistiques récupérées",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContratsStatsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Statistiques des contrats (admin)",
        "tags": [
          "Administration - Contrats"
        ]
      }
    },
    "/admin/contrats/{id}": {
      "get": {
        "operationId": "ContratsAdminController_getContratById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID contrat",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Détails récupérés",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContratAdminDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Détails d'un contrat (admin)",
        "tags": [
          "Administration - Contrats"
        ]
      }
    },
    "/admin/contrats/{id}/statut": {
      "patch": {
        "operationId": "ContratsAdminController_updateStatut",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID contrat",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContratStatutDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Statut modifié",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContratAdminDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Modifier le statut d'un contrat (admin)",
        "tags": [
          "Administration - Contrats"
        ]
      }
    },
    "/admin/contrats/{id}/upload": {
      "patch": {
        "operationId": "ContratsAdminController_uploadContrat",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Téléverser le contrat final (PDF)",
        "tags": [
          "Administration - Contrats"
        ]
      }
    },
    "/agent/contrats": {
      "get": {
        "description": "Liste paginée des contrats avec filtres. Accès en lecture seule.",
        "operationId": "ContratsAgentController_getAllContrats",
        "parameters": [
          {
            "name": "statut",
            "required": false,
            "in": "query",
            "description": "Statut du contrat",
            "schema": {
              "example": "actif",
              "type": "string",
              "enum": [
                "actif",
                "suspendu",
                "resilie",
                "expire"
              ]
            }
          },
          {
            "name": "produit_id",
            "required": false,
            "in": "query",
            "description": "ID du produit",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "utilisateur_id",
            "required": false,
            "in": "query",
            "description": "ID de l'utilisateur (client)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "date_debut",
            "required": false,
            "in": "query",
            "description": "Date de début de couverture (YYYY-MM-DD)",
            "schema": {
              "format": "date-time",
              "example": "2024-01-01",
              "type": "string"
            }
          },
          {
            "name": "date_fin",
            "required": false,
            "in": "query",
            "description": "Date de fin de couverture (YYYY-MM-DD)",
            "schema": {
              "format": "date-time",
              "example": "2024-12-31",
              "type": "string"
            }
          },
          {
            "name": "prime_min",
            "required": false,
            "in": "query",
            "description": "Prime minimale (mensuelle) en FCFA",
            "schema": {
              "example": 10000,
              "type": "number"
            }
          },
          {
            "name": "prime_max",
            "required": false,
            "in": "query",
            "description": "Prime maximale (mensuelle) en FCFA",
            "schema": {
              "example": 50000,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Recherche textuelle (numéro, nom produit, nom client, email)",
            "schema": {
              "example": "VIE-2025",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page",
            "schema": {
              "default": 10,
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste récupérée",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContratsListResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer la liste des contrats (agent)",
        "tags": [
          "Agent - Contrats"
        ]
      }
    },
    "/agent/contrats/stats": {
      "get": {
        "description": "Accès en lecture seule.",
        "operationId": "ContratsAgentController_getStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Statistiques récupérées",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContratsStatsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Statistiques des contrats (agent)",
        "tags": [
          "Agent - Contrats"
        ]
      }
    },
    "/agent/contrats/{id}": {
      "get": {
        "description": "Accès en lecture seule.",
        "operationId": "ContratsAgentController_getContratById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID contrat",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Détails récupérés",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContratAdminDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Détails d'un contrat (agent)",
        "tags": [
          "Agent - Contrats"
        ]
      }
    },
    "/admin/paiements": {
      "get": {
        "operationId": "PaiementsAdminController_getPaiements",
        "parameters": [
          {
            "name": "statut",
            "required": false,
            "in": "query",
            "description": "Statut du paiement",
            "schema": {
              "type": "string",
              "enum": [
                "en_attente",
                "reussi",
                "echoue",
                "rembourse",
                "annule"
              ]
            }
          },
          {
            "name": "methode",
            "required": false,
            "in": "query",
            "description": "Méthode de paiement",
            "schema": {
              "type": "string",
              "enum": [
                "mobile_money",
                "wallet"
              ]
            }
          },
          {
            "name": "reference_paiement",
            "required": false,
            "in": "query",
            "description": "Référence du paiement",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "reference_externe",
            "required": false,
            "in": "query",
            "description": "Transaction externe",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "utilisateur_id",
            "required": false,
            "in": "query",
            "description": "ID utilisateur",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "devis_id",
            "required": false,
            "in": "query",
            "description": "ID du devis",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "montant_min",
            "required": false,
            "in": "query",
            "description": "Montant minimum",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "montant_max",
            "required": false,
            "in": "query",
            "description": "Montant maximum",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Limite",
            "schema": {
              "default": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaiementsListResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Lister les paiements",
        "tags": [
          "Administration - Paiements"
        ]
      }
    },
    "/agent/paiements": {
      "get": {
        "operationId": "PaiementsAgentController_getPaiements",
        "parameters": [
          {
            "name": "statut",
            "required": false,
            "in": "query",
            "description": "Statut du paiement",
            "schema": {
              "type": "string",
              "enum": [
                "en_attente",
                "reussi",
                "echoue",
                "rembourse",
                "annule"
              ]
            }
          },
          {
            "name": "methode",
            "required": false,
            "in": "query",
            "description": "Méthode de paiement",
            "schema": {
              "type": "string",
              "enum": [
                "mobile_money",
                "wallet"
              ]
            }
          },
          {
            "name": "reference_paiement",
            "required": false,
            "in": "query",
            "description": "Référence du paiement",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "reference_externe",
            "required": false,
            "in": "query",
            "description": "Transaction externe",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "utilisateur_id",
            "required": false,
            "in": "query",
            "description": "ID utilisateur",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "devis_id",
            "required": false,
            "in": "query",
            "description": "ID du devis",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "montant_min",
            "required": false,
            "in": "query",
            "description": "Montant minimum",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "montant_max",
            "required": false,
            "in": "query",
            "description": "Montant maximum",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Limite",
            "schema": {
              "default": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaiementsListResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Lister les paiements pour un agent (lecture seule)",
        "tags": [
          "Agent - Paiements"
        ]
      }
    },
    "/produits": {
      "get": {
        "description": "Endpoint protégé pour consulter tous les produits d'assurance actifs disponibles pour les utilisateurs. Authentification requise.",
        "operationId": "ProduitsController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Liste des produits récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProduitDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer tous les produits actifs",
        "tags": [
          "Produits"
        ]
      }
    },
    "/produits/{id}": {
      "get": {
        "description": "Endpoint protégé pour consulter les détails d'un produit spécifique. Authentification requise.",
        "operationId": "ProduitsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID unique du produit (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Détails du produit récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProduitDto"
                }
              }
            }
          },
          "400": {
            "description": "ID de produit invalide"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "404": {
            "description": "Produit non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer un produit par ID",
        "tags": [
          "Produits"
        ]
      }
    },
    "/produits/produit/{produitId}/garanties": {
      "get": {
        "description": "Endpoint protégé pour consulter toutes les garanties actives d'un produit spécifique avec les informations complètes du produit. Authentification requise.",
        "operationId": "ProduitsController_findGarantiesByProduit",
        "parameters": [
          {
            "name": "produitId",
            "required": true,
            "in": "path",
            "description": "ID du produit (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Garanties du produit avec données du produit récupérées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GarantieWithProduitDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "ID de produit invalide"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "404": {
            "description": "Produit non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les garanties d'un produit avec données du produit",
        "tags": [
          "Produits"
        ]
      }
    },
    "/produits/garanties/{id}": {
      "get": {
        "description": "Endpoint protégé pour consulter les détails d'une garantie active avec les informations complètes du produit associé. Authentification requise.",
        "operationId": "ProduitsController_findGarantieWithProduit",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la garantie (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Garantie avec données du produit récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GarantieWithProduitDto"
                }
              }
            }
          },
          "400": {
            "description": "ID de garantie invalide"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "404": {
            "description": "Garantie non trouvée"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer une garantie par ID avec données du produit",
        "tags": [
          "Produits"
        ]
      }
    },
    "/produits/{produitId}/criteres": {
      "get": {
        "description": "Endpoint protégé pour consulter tous les critères de tarification d'un produit spécifique avec leurs valeurs possibles. Authentification requise.",
        "operationId": "ProduitsController_findCriteresByProduit",
        "parameters": [
          {
            "name": "produitId",
            "required": true,
            "in": "path",
            "description": "ID du produit (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page (défaut: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page (défaut: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Critères du produit récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CriteresPublicResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "ID de produit invalide"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "404": {
            "description": "Produit non trouvé ou inactif"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les critères de tarification d'un produit",
        "tags": [
          "Produits"
        ]
      }
    },
    "/simulation-devis-simplifie": {
      "post": {
        "description": "Crée une simulation de devis avec tarifs fixes basés sur des critères simples",
        "operationId": "SimulationDevisSimplifieeController_simulerDevis",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSimulationDevisSimplifieeDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Simulation créée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulationDevisSimplifieeResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "404": {
            "description": "Produit non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Simuler un devis avec le système simplifié",
        "tags": [
          "Simulation Devis Simplifiée"
        ]
      }
    },
    "/simulation-devis-simplifie/anonyme": {
      "post": {
        "description": "Crée une simulation de devis sans authentification (seulement pour \"autre personne\")",
        "operationId": "SimulationDevisSimplifieeController_simulerDevisAnonyme",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSimulationDevisSimplifieeDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Simulation créée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulationDevisSimplifieeResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides"
          },
          "404": {
            "description": "Produit non trouvé"
          }
        },
        "summary": "Simuler un devis de manière anonyme",
        "tags": [
          "Simulation Devis Simplifiée"
        ]
      }
    },
    "/devis-sauvegardes": {
      "post": {
        "description": "Permet à un utilisateur connecté de sauvegarder un devis simulé dans son espace personnel",
        "operationId": "DevisSauvegardeController_sauvegarderDevis",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SauvegardeDevisDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Devis sauvegardé avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisSauvegardeDto"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides ou devis expiré"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "403": {
            "description": "Accès interdit - Vous n'êtes pas autorisé à sauvegarder ce devis"
          },
          "404": {
            "description": "Devis non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Sauvegarder un devis simulé",
        "tags": [
          "Devis Sauvegardés"
        ]
      },
      "get": {
        "description": "Liste paginée des devis sauvegardés par l'utilisateur connecté",
        "operationId": "DevisSauvegardeController_recupererDevis",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page (défaut: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page (défaut: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des devis sauvegardés récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisSauvegardesResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les devis sauvegardés de l'utilisateur",
        "tags": [
          "Devis Sauvegardés"
        ]
      }
    },
    "/devis-sauvegardes/recherche": {
      "get": {
        "description": "Recherche avancée dans les devis sauvegardés de l'utilisateur avec différents critères",
        "operationId": "DevisSauvegardeController_rechercherDevis",
        "parameters": [
          {
            "name": "nom_produit",
            "required": false,
            "in": "query",
            "description": "Nom du produit (recherche partielle)",
            "schema": {
              "example": "Assurance Vie",
              "type": "string"
            }
          },
          {
            "name": "type_produit",
            "required": false,
            "in": "query",
            "description": "Type de produit (vie/non-vie)",
            "schema": {
              "example": "vie",
              "type": "string"
            }
          },
          {
            "name": "date_debut",
            "required": false,
            "in": "query",
            "description": "Date de début de recherche (YYYY-MM-DD)",
            "schema": {
              "format": "date-time",
              "example": "2024-01-01",
              "type": "string"
            }
          },
          {
            "name": "date_fin",
            "required": false,
            "in": "query",
            "description": "Date de fin de recherche (YYYY-MM-DD)",
            "schema": {
              "format": "date-time",
              "example": "2024-12-31",
              "type": "string"
            }
          },
          {
            "name": "prime_min",
            "required": false,
            "in": "query",
            "description": "Prime minimum en FCFA",
            "schema": {
              "example": 10000,
              "type": "number"
            }
          },
          {
            "name": "prime_max",
            "required": false,
            "in": "query",
            "description": "Prime maximum en FCFA",
            "schema": {
              "example": 50000,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Numéro de page (défaut: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Nombre d'éléments par page (défaut: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Résultats de recherche récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisSauvegardesResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Rechercher des devis sauvegardés avec filtres",
        "tags": [
          "Devis Sauvegardés"
        ]
      }
    },
    "/devis-sauvegardes/{id}": {
      "get": {
        "description": "Consulter les détails d'un devis sauvegardé spécifique",
        "operationId": "DevisSauvegardeController_recupererDevisParId",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID unique du devis sauvegardé (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Détails du devis récupérés avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisSauvegardeDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "404": {
            "description": "Devis non trouvé ou vous n'avez pas les droits pour le consulter"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer un devis sauvegardé par ID",
        "tags": [
          "Devis Sauvegardés"
        ]
      },
      "put": {
        "description": "Modifier le nom personnalisé et les notes d'un devis sauvegardé",
        "operationId": "DevisSauvegardeController_modifierDevis",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID unique du devis sauvegardé (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ModifierDevisSauvegardeDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Devis modifié avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevisSauvegardeDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "404": {
            "description": "Devis non trouvé ou vous n'avez pas les droits pour le modifier"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Modifier un devis sauvegardé",
        "tags": [
          "Devis Sauvegardés"
        ]
      },
      "delete": {
        "description": "Supprimer définitivement un devis sauvegardé de l'espace utilisateur",
        "operationId": "DevisSauvegardeController_supprimerDevis",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID unique du devis sauvegardé (UUID)",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Devis supprimé avec succès"
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "404": {
            "description": "Devis non trouvé ou vous n'avez pas les droits pour le supprimer"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer un devis sauvegardé",
        "tags": [
          "Devis Sauvegardés"
        ]
      }
    },
    "/grilles-tarifaires/produit/{produitId}": {
      "get": {
        "description": "Endpoint public pour lister toutes les grilles tarifaires actives d'un produit spécifique avec données du produit. Authentification requise.",
        "operationId": "GrillesTarifairesController_findAllByProduit",
        "parameters": [
          {
            "name": "produitId",
            "required": true,
            "in": "path",
            "description": "ID du produit",
            "schema": {
              "example": "2fc9d842-64e0-4c12-a78a-90f3ef03f6c5",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Grilles tarifaires du produit avec données du produit récupérées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GrilleTarifaireWithProduitDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "404": {
            "description": "Produit non trouvé ou inactif"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer les grilles tarifaires d'un produit",
        "tags": [
          "Grilles Tarifaires"
        ]
      }
    },
    "/grilles-tarifaires/{id}": {
      "get": {
        "description": "Endpoint public pour récupérer les détails d'une grille tarifaire active spécifique avec données du produit associé. Authentification requise.",
        "operationId": "GrillesTarifairesController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la grille tarifaire",
            "schema": {
              "example": "uuid-de-la-grille",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Grille tarifaire avec données du produit récupérée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GrilleTarifaireWithProduitDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token d'authentification manquant ou invalide"
          },
          "404": {
            "description": "Grille tarifaire non trouvée ou inactive"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer une grille tarifaire par ID",
        "tags": [
          "Grilles Tarifaires"
        ]
      }
    },
    "/devis/{id}/souscrire": {
      "post": {
        "description": "Initie le processus de souscription avec paiement pour un devis sauvegardé",
        "operationId": "SouscriptionController_souscrireDevis",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SouscrireDevisDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Paiement initié avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SouscriptionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Devis non valide pour souscription ou bénéficiaires manquants"
          },
          "404": {
            "description": "Devis non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Souscrire à un devis",
        "tags": [
          "Souscription"
        ]
      }
    },
    "/devis/{id}/etat-souscription": {
      "get": {
        "description": "Récupère l'état actuel du processus de souscription (devis, paiement, contrat)",
        "operationId": "SouscriptionController_obtenirEtatSouscription",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "État de la souscription récupéré avec succès"
          },
          "404": {
            "description": "Devis non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Obtenir l'état d'une souscription",
        "tags": [
          "Souscription"
        ]
      }
    },
    "/webhooks/paiement/{aggregateur}": {
      "post": {
        "description": "Reçoit les notifications de paiement des agrégateurs (CinetPay, Wave, Orange Money, etc.)",
        "operationId": "PaiementWebhookController_recevoirCallbackPaiement",
        "parameters": [
          {
            "name": "aggregateur",
            "required": true,
            "in": "path",
            "description": "Nom de l'agrégateur de paiement",
            "schema": {
              "enum": [
                "cinetpay",
                "wave",
                "orange_money",
                "autre"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Webhook traité avec succès"
          },
          "400": {
            "description": "Données de callback invalides"
          }
        },
        "summary": "Webhook de callback de paiement",
        "tags": [
          "Webhooks Paiement"
        ]
      }
    },
    "/contrats": {
      "get": {
        "description": "Récupère tous les contrats de l'utilisateur connecté",
        "operationId": "ContratsController_obtenirMesContrats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Liste des contrats récupérée avec succès"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer mes contrats",
        "tags": [
          "Contrats"
        ]
      }
    },
    "/contrats/count": {
      "get": {
        "description": "Récupère le nombre total de contrats de l'utilisateur connecté",
        "operationId": "ContratsController_obtenirNombreContrats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Nombre de contrats récupéré avec succès"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Nombre de contrats",
        "tags": [
          "Contrats"
        ]
      }
    },
    "/contrats/{id}": {
      "get": {
        "description": "Récupère les détails d'un contrat spécifique",
        "operationId": "ContratsController_obtenirContratParId",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du contrat",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contrat récupéré avec succès"
          },
          "404": {
            "description": "Contrat non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer un contrat par ID",
        "tags": [
          "Contrats"
        ]
      }
    },
    "/contrats/{id}/attestation": {
      "get": {
        "description": "Génère et télécharge l'attestation de souscription en format PDF",
        "operationId": "ContratsController_téléchargerAttestation",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du contrat",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "PDF généré avec succès"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Télécharger l'attestation PDF",
        "tags": [
          "Contrats"
        ]
      }
    },
    "/contrats/{id}/telecharger": {
      "get": {
        "description": "Télécharge le contrat définitif téléversé par l'administration",
        "operationId": "ContratsController_téléchargerContratFinal",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du contrat",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Fichier récupéré avec succès"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Télécharger le contrat final PDF",
        "tags": [
          "Contrats"
        ]
      }
    },
    "/contrats/numero/{numero}": {
      "get": {
        "description": "Récupère un contrat par son numéro unique (ex: VIE-2025-000001)",
        "operationId": "ContratsController_obtenirContratParNumero",
        "parameters": [
          {
            "name": "numero",
            "required": true,
            "in": "path",
            "description": "Numéro du contrat",
            "schema": {
              "example": "VIE-2025-000001",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contrat récupéré avec succès"
          },
          "404": {
            "description": "Contrat non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer un contrat par numéro",
        "tags": [
          "Contrats"
        ]
      }
    },
    "/contrats/{id}/resilier": {
      "patch": {
        "description": "Résilier un contrat actif",
        "operationId": "ContratsController_resilierContrat",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du contrat à résilier",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contrat résilié avec succès"
          },
          "400": {
            "description": "Le contrat est déjà résilié"
          },
          "404": {
            "description": "Contrat non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Résilier un contrat",
        "tags": [
          "Contrats"
        ]
      }
    },
    "/contrats/{id}/suspendre": {
      "patch": {
        "description": "Suspendre temporairement un contrat actif",
        "operationId": "ContratsController_suspendreContrat",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du contrat à suspendre",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contrat suspendu avec succès"
          },
          "400": {
            "description": "Seuls les contrats actifs peuvent être suspendus"
          },
          "404": {
            "description": "Contrat non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Suspendre un contrat",
        "tags": [
          "Contrats"
        ]
      }
    },
    "/contrats/{id}/reactiver": {
      "patch": {
        "description": "Réactiver un contrat suspendu",
        "operationId": "ContratsController_reactiverContrat",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID du contrat à réactiver",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contrat réactivé avec succès"
          },
          "400": {
            "description": "Seuls les contrats suspendus peuvent être réactivés"
          },
          "404": {
            "description": "Contrat non trouvé"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Réactiver un contrat",
        "tags": [
          "Contrats"
        ]
      }
    },
    "/admin/configuration/code-agence": {
      "get": {
        "operationId": "ConfigurationController_getCodeAgence",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer le code agence",
        "tags": [
          "Configuration"
        ]
      },
      "put": {
        "operationId": "ConfigurationController_updateCodeAgence",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCodeAgenceDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mettre à jour le code agence",
        "tags": [
          "Configuration"
        ]
      }
    },
    "/admin/configuration": {
      "get": {
        "operationId": "ConfigurationController_getAllConfigs",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer toutes les configurations",
        "tags": [
          "Configuration"
        ]
      }
    },
    "/dashboard/admin/stats": {
      "get": {
        "description": "Récupère toutes les statistiques principales pour le dashboard administrateur",
        "operationId": "AdminDashboardController_getStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Statistiques récupérées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardStatsDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token manquant ou invalide"
          },
          "403": {
            "description": "Accès refusé - Réservé aux administrateurs"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Statistiques globales du dashboard admin",
        "tags": [
          "Dashboard Admin"
        ]
      }
    },
    "/dashboard/admin/charts": {
      "get": {
        "description": "Récupère les données nécessaires pour afficher les graphiques et visualisations",
        "operationId": "AdminDashboardController_getChartData",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Données récupérées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChartDataDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token manquant ou invalide"
          },
          "403": {
            "description": "Accès refusé - Réservé aux administrateurs"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Données pour les graphiques du dashboard",
        "tags": [
          "Dashboard Admin"
        ]
      }
    },
    "/dashboard/agent/stats": {
      "get": {
        "description": "Récupère toutes les statistiques pour le dashboard agent (accès à toutes les données)",
        "operationId": "AgentDashboardController_getStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Statistiques récupérées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentDashboardStatsDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token manquant ou invalide"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Statistiques globales du dashboard agent",
        "tags": [
          "Dashboard Agent"
        ]
      }
    },
    "/dashboard/agent/charts": {
      "get": {
        "description": "Récupère les données pour les graphiques (évolution, répartition, top produits, etc.)",
        "operationId": "AgentDashboardController_getChartData",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Données récupérées avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChartDataDto"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé - Token manquant ou invalide"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Données pour les graphiques du dashboard",
        "tags": [
          "Dashboard Agent"
        ]
      }
    },
    "/clients": {
      "get": {
        "operationId": "ClientsController_getClients",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Clients"
        ]
      }
    },
    "/clients/{id}": {
      "get": {
        "operationId": "ClientsController_getClientById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Clients"
        ]
      },
      "patch": {
        "operationId": "ClientsController_updateClient",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateClientDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Clients"
        ]
      }
    },
    "/clients/{id}/toggle-status": {
      "patch": {
        "operationId": "ClientsController_toggleClientStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Clients"
        ]
      }
    }
  },
  "info": {
    "title": "SAARCIFLEX",
    "description": "SAARCIFLEX API est le moteur backend robuste alimentant les plateformes d'assurance de SAAR Assurances Côte d'Ivoire. Cette solution fournit une suite complète de services REST sécurisés pour la gestion du cycle de vie des contrats, l'administration des profils multi-rôles (Clients, Agents, RH, Admin), la tarification dynamique des produits, et le suivi analytique des performances. L'infrastructure s'appuie sur NestJS et TypeORM, intégrant des fonctionnalités critiques telles que l'authentification JWT/OTP, la génération documentaire automatisée et une architecture microservices par transport Redis.",
    "version": "1.0.3",
    "contact": {}
  },
  "tags": [
    {
      "name": "SAARCIFLEX",
      "description": ""
    }
  ],
  "servers": [],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "RegisterDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom complet de l'utilisateur",
            "example": "Jean Dupont"
          },
          "email": {
            "type": "string",
            "description": "Adresse email unique",
            "example": "jean.dupont@example.com"
          },
          "telephone": {
            "type": "object",
            "description": "Numéro de téléphone",
            "example": "+225 01 02 03 04 05"
          },
          "mot_de_passe": {
            "type": "string",
            "description": "Mot de passe (minimum 8 caractères)",
            "example": "MotDePasse123!",
            "minLength": 8
          },
          "type_utilisateur": {
            "type": "string",
            "description": "Type d'utilisateur",
            "enum": [
              "client",
              "agent",
              "drh",
              "admin"
            ],
            "example": "client"
          }
        },
        "required": [
          "nom",
          "email",
          "mot_de_passe"
        ]
      },
      "RegisterResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "nom": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "telephone": {
            "type": "string"
          },
          "type_utilisateur": {
            "type": "string",
            "enum": [
              "client",
              "agent",
              "drh",
              "admin"
            ]
          },
          "statut": {
            "type": "boolean"
          },
          "date_creation": {
            "format": "date-time",
            "type": "string"
          },
          "token": {
            "type": "string",
            "description": "Token JWT pour l'authentification",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "token_type": {
            "type": "string",
            "description": "Type de token",
            "example": "Bearer"
          },
          "expires_in": {
            "type": "number",
            "description": "Durée de validité du token en secondes",
            "example": 86400
          }
        },
        "required": [
          "id",
          "nom",
          "email",
          "telephone",
          "type_utilisateur",
          "statut",
          "date_creation",
          "token",
          "token_type",
          "expires_in"
        ]
      },
      "LoginDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Adresse email de l'utilisateur",
            "example": "jean.dupont@example.com"
          },
          "mot_de_passe": {
            "type": "string",
            "description": "Mot de passe",
            "example": "MotDePasse123!"
          }
        },
        "required": [
          "email",
          "mot_de_passe"
        ]
      },
      "LoginResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "nom": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "telephone": {
            "type": "object",
            "nullable": true
          },
          "type_utilisateur": {
            "type": "string",
            "enum": [
              "client",
              "agent",
              "drh",
              "admin"
            ]
          },
          "statut": {
            "type": "boolean"
          },
          "date_creation": {
            "format": "date-time",
            "type": "string"
          },
          "token": {
            "type": "string",
            "description": "Token JWT pour l'authentification"
          },
          "token_type": {
            "type": "string",
            "description": "Type de token",
            "example": "Bearer"
          },
          "expires_in": {
            "type": "number",
            "description": "Durée de validité du token en secondes",
            "example": 86400
          },
          "premiere_connexion": {
            "type": "boolean",
            "description": "Première connexion requise"
          },
          "must_change_password": {
            "type": "boolean",
            "description": "Le mot de passe doit être changé"
          }
        },
        "required": [
          "id",
          "nom",
          "email",
          "type_utilisateur",
          "statut",
          "date_creation",
          "token",
          "token_type",
          "expires_in"
        ]
      },
      "ForgotPasswordDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "example": "john.doe@example.com"
          }
        },
        "required": [
          "email"
        ]
      },
      "VerifyOtpDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "example": "john.doe@example.com"
          },
          "code": {
            "type": "string",
            "example": "123456"
          }
        },
        "required": [
          "email",
          "code"
        ]
      },
      "ResetPasswordDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "example": "john.doe@example.com"
          },
          "code": {
            "type": "string",
            "example": "123456"
          },
          "nouveau_mot_de_passe": {
            "type": "string",
            "example": "NouveauMotDePasseFort123!"
          }
        },
        "required": [
          "email",
          "code",
          "nouveau_mot_de_passe"
        ]
      },
      "ChangePasswordFirstLoginDto": {
        "type": "object",
        "properties": {
          "mot_de_passe_actuel": {
            "type": "string",
            "description": "Mot de passe actuel (temporaire)",
            "example": "TempPass123!"
          },
          "nouveau_mot_de_passe": {
            "type": "string",
            "description": "Nouveau mot de passe (minimum 8 caractères)",
            "example": "NouveauMotDePasse123!",
            "minLength": 8
          }
        },
        "required": [
          "mot_de_passe_actuel",
          "nouveau_mot_de_passe"
        ]
      },
      "ProfileDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "nom": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "telephone": {
            "type": "object",
            "nullable": true
          },
          "type_utilisateur": {
            "type": "string",
            "enum": [
              "client",
              "agent",
              "drh",
              "admin"
            ]
          },
          "statut": {
            "type": "boolean"
          },
          "lieu_naissance": {
            "type": "object",
            "nullable": true
          },
          "sexe": {
            "type": "object",
            "nullable": true
          },
          "nationalite": {
            "type": "object",
            "nullable": true
          },
          "profession": {
            "type": "object",
            "nullable": true
          },
          "adresse": {
            "type": "object",
            "nullable": true
          },
          "date_naissance": {
            "type": "object",
            "nullable": true,
            "description": "Date de naissance (format DD-MM-YYYY)"
          },
          "numero_piece_identite": {
            "type": "object",
            "nullable": true
          },
          "type_piece_identite": {
            "type": "object",
            "nullable": true
          },
          "date_expiration_piece_identite": {
            "type": "object",
            "nullable": true,
            "description": "Date d'expiration de la pièce d'identité (format DD-MM-YYYY)"
          },
          "front_document_path": {
            "type": "object",
            "nullable": true,
            "description": "Chemin vers la photo recto de la carte d'identité"
          },
          "back_document_path": {
            "type": "object",
            "nullable": true,
            "description": "Chemin vers la photo verso de la carte d'identité"
          },
          "avatar_path": {
            "type": "object",
            "nullable": true,
            "description": "Chemin vers l'avatar"
          },
          "avatar_url": {
            "type": "object",
            "nullable": true,
            "description": "URL de l'avatar"
          },
          "front_document_url": {
            "type": "object",
            "nullable": true,
            "description": "URL de la photo recto de la carte d'identité"
          },
          "back_document_url": {
            "type": "object",
            "nullable": true,
            "description": "URL de la photo verso de la carte d'identité"
          },
          "date_creation": {
            "format": "date-time",
            "type": "string"
          },
          "date_modification": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "nom",
          "email",
          "type_utilisateur",
          "statut",
          "date_creation",
          "date_modification"
        ]
      },
      "UpdateProfileDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom et prénom complets",
            "minLength": 2,
            "maxLength": 255,
            "example": "Jean Dupont"
          },
          "lieu_naissance": {
            "type": "object",
            "description": "Lieu de naissance",
            "example": "Dakar"
          },
          "sexe": {
            "type": "object",
            "description": "Sexe",
            "example": "masculin"
          },
          "nationalite": {
            "type": "object",
            "description": "Nationalité",
            "example": "Sénégalaise"
          },
          "profession": {
            "type": "object",
            "description": "Profession",
            "example": "Développeur"
          },
          "telephone": {
            "type": "object",
            "description": "Numéro de téléphone",
            "minLength": 8,
            "maxLength": 20,
            "example": "+221771234567"
          },
          "email": {
            "type": "object",
            "description": "Adresse email",
            "example": "jean.dupont@example.com"
          },
          "adresse": {
            "type": "object",
            "description": "Adresse de résidence",
            "example": "123 Rue Principale, Dakar"
          },
          "date_naissance": {
            "type": "object",
            "description": "Date de naissance (format DD-MM-YYYY)",
            "example": "20-05-1990"
          },
          "numero_piece_identite": {
            "type": "object",
            "description": "Numéro de pièce d'identité",
            "example": "CNI123456789"
          },
          "type_piece_identite": {
            "type": "object",
            "description": "Type de pièce d'identité",
            "example": "CNI"
          },
          "date_expiration_piece_identite": {
            "type": "object",
            "description": "Date d'expiration de la pièce d'identité (format DD-MM-YYYY)",
            "example": "20-05-1990"
          }
        }
      },
      "UploadImagesResponseDto": {
        "type": "object",
        "properties": {
          "recto_path": {
            "type": "string",
            "description": "Chemin du fichier recto de la carte d'identité",
            "example": "uploads/profiles/alikson_awouatsa/recto.png"
          },
          "verso_path": {
            "type": "string",
            "description": "Chemin du fichier verso de la carte d'identité",
            "example": "uploads/profiles/alikson_awouatsa/verso.png"
          }
        },
        "required": [
          "recto_path",
          "verso_path"
        ]
      },
      "UploadErrorResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Message d'erreur",
            "example": "Format de fichier non supporté"
          },
          "error": {
            "type": "string",
            "description": "Code d'erreur",
            "example": "INVALID_FILE_FORMAT"
          },
          "statusCode": {
            "type": "number",
            "description": "Code de statut HTTP",
            "example": 400
          }
        },
        "required": [
          "message",
          "error",
          "statusCode"
        ]
      },
      "UserType": {
        "type": "string",
        "enum": [
          "client",
          "agent",
          "drh",
          "admin"
        ],
        "description": "Type d'utilisateur (admin ou agent)"
      },
      "CreateAgentDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom complet de l'utilisateur",
            "example": "Jean Dupont"
          },
          "email": {
            "type": "string",
            "description": "Adresse email unique",
            "example": "jean.dupont@example.com"
          },
          "telephone": {
            "type": "object",
            "description": "Numéro de téléphone",
            "example": "+225 01 02 03 04 05"
          },
          "type_utilisateur": {
            "description": "Type d'utilisateur (admin ou agent)",
            "example": "agent",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserType"
              }
            ]
          }
        },
        "required": [
          "nom",
          "email",
          "type_utilisateur"
        ]
      },
      "AgentResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique de l'utilisateur"
          },
          "nom": {
            "type": "string",
            "description": "Nom complet de l'utilisateur"
          },
          "email": {
            "type": "string",
            "description": "Email de l'utilisateur"
          },
          "telephone": {
            "type": "object",
            "description": "Téléphone de l'utilisateur"
          },
          "type_utilisateur": {
            "type": "string",
            "description": "Type d'utilisateur",
            "enum": [
              "client",
              "agent",
              "drh",
              "admin"
            ]
          },
          "statut": {
            "type": "boolean",
            "description": "Statut du compte (actif/suspendu)"
          },
          "premiere_connexion": {
            "type": "boolean",
            "description": "Première connexion requise"
          },
          "date_creation": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          },
          "date_modification": {
            "format": "date-time",
            "type": "string",
            "description": "Date de dernière modification"
          },
          "derniere_connexion": {
            "type": "object",
            "description": "Date de dernière connexion"
          }
        },
        "required": [
          "id",
          "nom",
          "email",
          "type_utilisateur",
          "statut",
          "premiere_connexion",
          "date_creation",
          "date_modification"
        ]
      },
      "AgentsResponseDto": {
        "type": "object",
        "properties": {
          "agents": {
            "description": "Liste des utilisateurs",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentResponseDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total d'utilisateurs"
          },
          "page": {
            "type": "number",
            "description": "Page actuelle"
          },
          "limit": {
            "type": "number",
            "description": "Taille de la page"
          },
          "total_pages": {
            "type": "number",
            "description": "Nombre total de pages"
          }
        },
        "required": [
          "agents",
          "total",
          "page",
          "limit",
          "total_pages"
        ]
      },
      "UpdateAgentDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom complet de l'agent",
            "example": "Jean Dupont"
          },
          "email": {
            "type": "string",
            "description": "Adresse email unique",
            "example": "jean.dupont@example.com"
          },
          "telephone": {
            "type": "object",
            "description": "Numéro de téléphone",
            "example": "+225 01 02 03 04 05"
          }
        }
      },
      "SendEmailDto": {
        "type": "object",
        "properties": {
          "to": {
            "type": "object",
            "description": "Adresse(s) email du ou des destinataires (chaîne séparée par des virgules ou tableau)",
            "example": "client@example.com, autre@example.com"
          },
          "subject": {
            "type": "string",
            "description": "Sujet de l'email",
            "example": "Information sur votre contrat"
          },
          "message": {
            "type": "string",
            "description": "Contenu HTML de l'email",
            "example": "<p>Bonjour, voici les informations...</p>"
          },
          "referenceId": {
            "type": "string",
            "description": "ID de l'objet de référence (contratId ou devisId)"
          },
          "referenceType": {
            "type": "string",
            "description": "Type de l'objet de référence (CONTRAT ou DEVIS)",
            "enum": [
              "CONTRAT",
              "DEVIS"
            ]
          }
        },
        "required": [
          "to",
          "subject",
          "message"
        ]
      },
      "CreateEmailTemplateDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Relance Paiement",
            "description": "Nom unique du modèle"
          },
          "subject": {
            "type": "string",
            "example": "Action requise : Paiement de votre prime",
            "description": "Sujet du mail"
          },
          "content": {
            "type": "string",
            "example": "<p>Bonjour {{nom}}, ...</p>",
            "description": "Contenu HTML du mail"
          },
          "isActive": {
            "type": "boolean",
            "example": true
          }
        },
        "required": [
          "name",
          "subject",
          "content"
        ]
      },
      "UpdateEmailTemplateDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "subject": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          }
        }
      },
      "CreateProduitDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom du produit d'assurance",
            "example": "Assurance Auto Premium",
            "maxLength": 255
          },
          "icon": {
            "type": "string",
            "description": "Icône du produit (chemin ou URL)",
            "example": "icon-auto-premium.svg"
          },
          "type": {
            "type": "string",
            "enum": [
              "vie",
              "non-vie"
            ],
            "description": "Type de produit (vie ou non-vie)",
            "example": "non-vie"
          },
          "description": {
            "type": "string",
            "description": "Description détaillée du produit",
            "example": "Assurance automobile complète avec garanties étendues"
          },
          "conditions_pdf": {
            "type": "string",
            "description": "Lien vers les conditions générales PDF",
            "example": "/pdf/conditions-auto-premium.pdf"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "brouillon"
            ],
            "description": "Statut du produit (brouillon par défaut)",
            "default": "brouillon"
          },
          "branch_id": {
            "type": "string",
            "description": "ID de la branche à laquelle appartient ce produit",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "categorie_id": {
            "type": "string",
            "description": "ID de la catégorie du produit (optionnel)"
          },
          "necessite_beneficiaires": {
            "type": "boolean",
            "description": "Le produit nécessite-t-il des bénéficiaires ?",
            "example": true
          },
          "max_beneficiaires": {
            "type": "number",
            "description": "Nombre maximum de bénéficiaires autorisés",
            "example": 2,
            "minimum": 0,
            "maximum": 20
          },
          "necessite_informations_vehicule": {
            "type": "boolean",
            "description": "Le produit nécessite-t-il les informations du véhicule ?",
            "example": false
          },
          "periodicite_prime": {
            "type": "string",
            "enum": [
              "journalier",
              "mensuel",
              "annuel"
            ],
            "description": "Périodicité de paiement de la prime",
            "example": "mensuel",
            "default": "mensuel"
          }
        },
        "required": [
          "nom",
          "type",
          "statut",
          "branch_id",
          "periodicite_prime"
        ]
      },
      "ProduitAdminDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du produit"
          },
          "nom": {
            "type": "string",
            "description": "Nom du produit"
          },
          "icon": {
            "type": "string",
            "description": "Icône du produit"
          },
          "icon_url": {
            "type": "string",
            "description": "URL de l'icône SVG du produit"
          },
          "type": {
            "type": "string",
            "enum": [
              "vie",
              "non-vie"
            ],
            "description": "Type du produit (vie ou non-vie)"
          },
          "description": {
            "type": "string",
            "description": "Description détaillée du produit"
          },
          "conditions_pdf": {
            "type": "string",
            "description": "Lien vers les conditions PDF"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "brouillon"
            ],
            "description": "Statut du produit"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de dernière modification"
          },
          "created_by": {
            "type": "string",
            "description": "ID de l'utilisateur qui a créé le produit"
          },
          "createur": {
            "type": "object",
            "description": "Informations du créateur du produit",
            "nullable": true
          },
          "necessite_beneficiaires": {
            "type": "boolean",
            "description": "Le produit nécessite-t-il des bénéficiaires ?",
            "example": true
          },
          "max_beneficiaires": {
            "type": "number",
            "description": "Nombre maximum de bénéficiaires autorisés",
            "example": 2
          },
          "necessite_informations_vehicule": {
            "type": "boolean",
            "description": "Le produit nécessite-t-il les informations du véhicule ?",
            "example": false
          },
          "periodicite_prime": {
            "type": "string",
            "enum": [
              "journalier",
              "mensuel",
              "annuel"
            ],
            "description": "Périodicité de paiement de la prime",
            "example": "mensuel"
          },
          "branche": {
            "type": "object",
            "description": "Informations de la branche",
            "nullable": true
          },
          "categorie": {
            "type": "object",
            "description": "Informations de la catégorie",
            "nullable": true
          },
          "nombre_criteres": {
            "type": "number",
            "description": "Nombre de critères de tarification"
          },
          "nombre_grilles": {
            "type": "number",
            "description": "Nombre de grilles tarifaires"
          },
          "nombre_devis": {
            "type": "number",
            "description": "Nombre de devis simulés"
          }
        },
        "required": [
          "id",
          "nom",
          "icon",
          "icon_url",
          "type",
          "description",
          "conditions_pdf",
          "statut",
          "created_at",
          "updated_at",
          "created_by",
          "createur",
          "necessite_beneficiaires",
          "max_beneficiaires",
          "necessite_informations_vehicule",
          "periodicite_prime",
          "branche",
          "categorie",
          "nombre_criteres",
          "nombre_grilles",
          "nombre_devis"
        ]
      },
      "ProduitsAdminResponseDto": {
        "type": "object",
        "properties": {
          "produits": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProduitAdminDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total de produits"
          },
          "page": {
            "type": "number",
            "description": "Page actuelle"
          },
          "limit": {
            "type": "number",
            "description": "Nombre d'éléments par page"
          },
          "total_pages": {
            "type": "number",
            "description": "Nombre total de pages"
          }
        },
        "required": [
          "produits",
          "total",
          "page",
          "limit",
          "total_pages"
        ]
      },
      "UpdateProduitDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom du produit d'assurance",
            "example": "Assurance Auto Premium",
            "maxLength": 255
          },
          "icon": {
            "type": "string",
            "description": "Icône du produit (chemin ou URL)",
            "example": "icon-auto-premium.svg"
          },
          "type": {
            "type": "string",
            "enum": [
              "vie",
              "non-vie"
            ],
            "description": "Type de produit (vie ou non-vie)",
            "example": "non-vie"
          },
          "description": {
            "type": "string",
            "description": "Description détaillée du produit",
            "example": "Assurance automobile complète avec garanties étendues"
          },
          "conditions_pdf": {
            "type": "string",
            "description": "Lien vers les conditions générales PDF",
            "example": "/pdf/conditions-auto-premium.pdf"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "brouillon"
            ],
            "description": "Statut du produit",
            "example": "actif"
          },
          "branch_id": {
            "type": "string",
            "description": "ID de la branche à laquelle appartient ce produit",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "categorie_id": {
            "type": "string",
            "description": "ID de la catégorie du produit (optionnel)"
          },
          "necessite_beneficiaires": {
            "type": "boolean",
            "description": "Le produit nécessite-t-il des bénéficiaires ?",
            "example": true
          },
          "max_beneficiaires": {
            "type": "number",
            "description": "Nombre maximum de bénéficiaires autorisés",
            "example": 2,
            "minimum": 0,
            "maximum": 20
          },
          "necessite_informations_vehicule": {
            "type": "boolean",
            "description": "Le produit nécessite-t-il les informations du véhicule ?",
            "example": false
          },
          "periodicite_prime": {
            "type": "string",
            "enum": [
              "journalier",
              "mensuel",
              "annuel"
            ],
            "description": "Périodicité de paiement de la prime",
            "example": "mensuel"
          }
        }
      },
      "CreateBrancheProduitDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom de la branche de produit",
            "example": "Assurance Automobile",
            "maxLength": 255
          },
          "type": {
            "type": "string",
            "enum": [
              "vie",
              "non-vie"
            ],
            "description": "Type de la branche (vie ou non-vie)",
            "example": "non-vie"
          },
          "description": {
            "type": "string",
            "description": "Description détaillée de la branche",
            "example": "Assurance couvrant les véhicules terrestres"
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage de la branche",
            "example": 1,
            "minimum": 0
          }
        },
        "required": [
          "nom",
          "type"
        ]
      },
      "CategorieProduitDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID de la catégorie"
          },
          "code": {
            "type": "string",
            "description": "Code de la catégorie"
          },
          "libelle": {
            "type": "string",
            "description": "Libellé de la catégorie"
          }
        },
        "required": [
          "id",
          "code",
          "libelle"
        ]
      },
      "BrancheProduitAdminDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique de la branche"
          },
          "nom": {
            "type": "string",
            "description": "Nom de la branche"
          },
          "type": {
            "type": "string",
            "enum": [
              "vie",
              "non-vie"
            ],
            "description": "Type de la branche (vie ou non-vie)"
          },
          "description": {
            "type": "string",
            "description": "Description de la branche"
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          },
          "nombre_produits": {
            "type": "number",
            "description": "Nombre de produits dans cette branche"
          },
          "categories": {
            "description": "Catégories associées à la branche",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CategorieProduitDto"
            }
          }
        },
        "required": [
          "id",
          "nom",
          "type",
          "description",
          "ordre",
          "created_at",
          "nombre_produits"
        ]
      },
      "BranchesResponseDto": {
        "type": "object",
        "properties": {
          "branches": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BrancheProduitAdminDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total de branches"
          },
          "page": {
            "type": "number",
            "description": "Page actuelle"
          },
          "limit": {
            "type": "number",
            "description": "Nombre d'éléments par page"
          },
          "total_pages": {
            "type": "number",
            "description": "Nombre total de pages"
          }
        },
        "required": [
          "branches",
          "total",
          "page",
          "limit",
          "total_pages"
        ]
      },
      "UpdateBrancheProduitDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom de la branche de produit",
            "example": "Assurance Automobile",
            "maxLength": 255
          },
          "type": {
            "type": "string",
            "enum": [
              "vie",
              "non-vie"
            ],
            "description": "Type de la branche (vie ou non-vie)",
            "example": "non-vie"
          },
          "description": {
            "type": "string",
            "description": "Description détaillée de la branche",
            "example": "Assurance couvrant les véhicules terrestres"
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage de la branche",
            "example": 1,
            "minimum": 0
          }
        }
      },
      "CreateCategorieDto": {
        "type": "object",
        "properties": {}
      },
      "UpdateCategorieDto": {
        "type": "object",
        "properties": {}
      },
      "CreateValeurCritereDto": {
        "type": "object",
        "properties": {
          "valeur": {
            "type": "string",
            "description": "Valeur du critère (pour type catégoriel ou booléen)",
            "example": "Béton"
          },
          "valeur_min": {
            "type": "number",
            "description": "Valeur minimale (pour type numérique)",
            "example": 0
          },
          "valeur_max": {
            "type": "number",
            "description": "Valeur maximale (pour type numérique)",
            "example": 1000
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage de la valeur",
            "example": 1
          }
        },
        "required": [
          "ordre"
        ]
      },
      "CreateCritereTarificationDto": {
        "type": "object",
        "properties": {
          "produit_id": {
            "type": "string",
            "description": "ID du produit auquel appartient ce critère",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "nom": {
            "type": "string",
            "description": "Nom du critère de tarification",
            "example": "Surface du logement",
            "maxLength": 255
          },
          "type": {
            "type": "string",
            "enum": [
              "numerique",
              "categoriel",
              "booleen",
              "texte",
              "date"
            ],
            "description": "Type de critère (numérique, catégoriel ou booléen)",
            "example": "numerique"
          },
          "unite": {
            "type": "string",
            "description": "Unité de mesure (pour type numérique)",
            "example": "m²",
            "maxLength": 50
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage du critère",
            "example": 1
          },
          "obligatoire": {
            "type": "boolean",
            "description": "Indique si le critère est obligatoire",
            "example": true,
            "default": true
          },
          "valeurs": {
            "description": "Valeurs possibles pour ce critère",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateValeurCritereDto"
            }
          }
        },
        "required": [
          "produit_id",
          "nom",
          "type",
          "ordre",
          "obligatoire"
        ]
      },
      "ValeurCritereDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique de la valeur"
          },
          "valeur": {
            "type": "string",
            "description": "Valeur du critère"
          },
          "valeur_min": {
            "type": "number",
            "description": "Valeur minimale"
          },
          "valeur_max": {
            "type": "number",
            "description": "Valeur maximale"
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          }
        },
        "required": [
          "id",
          "valeur",
          "valeur_min",
          "valeur_max",
          "ordre",
          "created_at"
        ]
      },
      "ProduitInfoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du produit"
          },
          "nom": {
            "type": "string",
            "description": "Nom du produit"
          },
          "icon": {
            "type": "string",
            "description": "Icône du produit"
          },
          "type": {
            "type": "string",
            "enum": [
              "vie",
              "non-vie"
            ],
            "description": "Type du produit (vie ou non-vie)"
          },
          "description": {
            "type": "string",
            "description": "Description du produit"
          },
          "conditions_pdf": {
            "type": "string",
            "description": "Lien vers les conditions PDF"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "brouillon"
            ],
            "description": "Statut du produit"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          }
        },
        "required": [
          "id",
          "nom",
          "icon",
          "type",
          "description",
          "conditions_pdf",
          "statut",
          "created_at"
        ]
      },
      "CritereTarificationAdminDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du critère"
          },
          "produit_id": {
            "type": "string",
            "description": "ID du produit"
          },
          "nom": {
            "type": "string",
            "description": "Nom du critère"
          },
          "type": {
            "type": "string",
            "enum": [
              "numerique",
              "categoriel",
              "booleen",
              "texte",
              "date"
            ],
            "description": "Type du critère"
          },
          "unite": {
            "type": "string",
            "description": "Unité de mesure"
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage"
          },
          "obligatoire": {
            "type": "boolean",
            "description": "Critère obligatoire"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          },
          "valeurs": {
            "description": "Valeurs possibles pour ce critère",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ValeurCritereDto"
            }
          },
          "nombre_valeurs": {
            "type": "number",
            "description": "Nombre de valeurs associées"
          },
          "produit": {
            "description": "Informations du produit associé",
            "allOf": [
              {
                "$ref": "#/components/schemas/ProduitInfoDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "produit_id",
          "nom",
          "type",
          "unite",
          "ordre",
          "obligatoire",
          "created_at",
          "valeurs",
          "nombre_valeurs"
        ]
      },
      "CriteresAdminResponseDto": {
        "type": "object",
        "properties": {
          "criteres": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CritereTarificationAdminDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total de critères"
          },
          "page": {
            "type": "number",
            "description": "Page actuelle"
          },
          "limit": {
            "type": "number",
            "description": "Nombre d'éléments par page"
          },
          "total_pages": {
            "type": "number",
            "description": "Nombre total de pages"
          }
        },
        "required": [
          "criteres",
          "total",
          "page",
          "limit",
          "total_pages"
        ]
      },
      "UpdateCritereTarificationDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom du critère de tarification",
            "example": "Surface du logement",
            "maxLength": 255
          },
          "type": {
            "type": "string",
            "enum": [
              "numerique",
              "categoriel",
              "booleen",
              "texte",
              "date"
            ],
            "description": "Type de critère",
            "example": "numerique"
          },
          "unite": {
            "type": "string",
            "description": "Unité de mesure",
            "example": "m²",
            "maxLength": 50
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage",
            "example": 1
          },
          "obligatoire": {
            "type": "boolean",
            "description": "Critère obligatoire",
            "example": true
          }
        }
      },
      "UpdateValeurCritereDto": {
        "type": "object",
        "properties": {
          "valeur": {
            "type": "string",
            "description": "Valeur du critère",
            "example": "Béton",
            "maxLength": 255
          },
          "valeur_min": {
            "type": "number",
            "description": "Valeur minimale",
            "example": 0
          },
          "valeur_max": {
            "type": "number",
            "description": "Valeur maximale",
            "example": 1000
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage",
            "example": 1
          }
        }
      },
      "CreateGarantieDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom de la garantie",
            "example": "Garantie vol et incendie"
          },
          "description": {
            "type": "string",
            "description": "Description détaillée de la garantie",
            "example": "Couverture contre le vol et les incendies du véhicule"
          },
          "type": {
            "type": "string",
            "enum": [
              "obligatoire",
              "optionnelle"
            ],
            "description": "Type de garantie (obligatoire ou optionnelle)",
            "example": "obligatoire"
          },
          "montant_garanti": {
            "type": "number",
            "description": "Montant garanti en FCFA",
            "example": 500000
          },
          "franchise": {
            "type": "number",
            "description": "Franchise en FCFA",
            "example": 50000,
            "default": 0
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage de la garantie",
            "example": 1,
            "default": 0
          },
          "produit_id": {
            "type": "string",
            "description": "ID du produit associé",
            "example": "uuid-du-produit"
          },
          "statut": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "Statut de la garantie",
            "example": "active",
            "default": "active"
          }
        },
        "required": [
          "nom",
          "type",
          "produit_id",
          "statut"
        ]
      },
      "GarantieWithProduitDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique de la garantie"
          },
          "nom": {
            "type": "string",
            "description": "Nom de la garantie"
          },
          "description": {
            "type": "string",
            "description": "Description de la garantie"
          },
          "type": {
            "type": "string",
            "enum": [
              "obligatoire",
              "optionnelle"
            ],
            "description": "Type de garantie"
          },
          "montant_garanti": {
            "type": "number",
            "description": "Montant garanti en FCFA"
          },
          "franchise": {
            "type": "number",
            "description": "Franchise en FCFA"
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage"
          },
          "produit_id": {
            "type": "string",
            "description": "ID du produit associé"
          },
          "statut": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "Statut de la garantie"
          },
          "created_by": {
            "type": "string",
            "description": "ID de l'utilisateur créateur"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de dernière modification"
          },
          "produit": {
            "type": "object",
            "description": "Données du produit associé"
          }
        },
        "required": [
          "id",
          "nom",
          "type",
          "franchise",
          "ordre",
          "produit_id",
          "statut",
          "created_at",
          "updated_at",
          "produit"
        ]
      },
      "GarantiesWithProduitResponseDto": {
        "type": "object",
        "properties": {
          "garanties": {
            "description": "Liste des garanties avec données du produit",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GarantieWithProduitDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total de garanties"
          },
          "page": {
            "type": "number",
            "description": "Page actuelle"
          },
          "limit": {
            "type": "number",
            "description": "Nombre d'éléments par page"
          },
          "totalPages": {
            "type": "number",
            "description": "Nombre total de pages"
          }
        },
        "required": [
          "garanties",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "UpdateGarantieDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom de la garantie",
            "example": "Garantie vol et incendie mise à jour"
          },
          "description": {
            "type": "string",
            "description": "Description détaillée de la garantie",
            "example": "Couverture mise à jour contre le vol et les incendies"
          },
          "type": {
            "type": "string",
            "enum": [
              "obligatoire",
              "optionnelle"
            ],
            "description": "Type de garantie",
            "example": "optionnelle"
          },
          "montant_garanti": {
            "type": "number",
            "description": "Montant garanti en FCFA",
            "example": 750000
          },
          "franchise": {
            "type": "number",
            "description": "Franchise en FCFA",
            "example": 75000
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage",
            "example": 2
          },
          "statut": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "Statut de la garantie",
            "example": "inactive"
          }
        }
      },
      "CreateGarantieCritereDto": {
        "type": "object",
        "properties": {
          "critere_id": {
            "type": "string",
            "description": "ID du critère de tarification",
            "example": "uuid-du-critere"
          },
          "valeur_requise": {
            "type": "string",
            "description": "Valeur requise pour activer la garantie",
            "example": "oui"
          },
          "valeur_min_requise": {
            "type": "number",
            "description": "Valeur minimale requise (pour critères numériques)",
            "example": 18
          },
          "valeur_max_requise": {
            "type": "number",
            "description": "Valeur maximale requise (pour critères numériques)",
            "example": 65
          },
          "operateur": {
            "type": "string",
            "enum": [
              "egal",
              "different",
              "superieur",
              "inferieur",
              "entre",
              "hors"
            ],
            "description": "Opérateur de comparaison",
            "example": "entre",
            "default": "egal"
          }
        },
        "required": [
          "critere_id",
          "operateur"
        ]
      },
      "GarantieCritereDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique de la condition"
          },
          "garantie_id": {
            "type": "string",
            "description": "ID de la garantie"
          },
          "critere_id": {
            "type": "string",
            "description": "ID du critère"
          },
          "valeur_requise": {
            "type": "string",
            "description": "Valeur requise"
          },
          "valeur_min_requise": {
            "type": "number",
            "description": "Valeur minimale requise"
          },
          "valeur_max_requise": {
            "type": "number",
            "description": "Valeur maximale requise"
          },
          "operateur": {
            "type": "string",
            "enum": [
              "egal",
              "different",
              "superieur",
              "inferieur",
              "entre",
              "hors"
            ],
            "description": "Opérateur de comparaison"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          },
          "critere_nom": {
            "type": "string",
            "description": "Nom du critère"
          },
          "critere_type": {
            "type": "string",
            "description": "Type du critère"
          },
          "critere_unite": {
            "type": "string",
            "description": "Unité du critère"
          }
        },
        "required": [
          "id",
          "garantie_id",
          "critere_id",
          "operateur",
          "created_at"
        ]
      },
      "UpdateGarantieCritereDto": {
        "type": "object",
        "properties": {
          "valeur_requise": {
            "type": "string",
            "description": "Valeur requise pour activer la garantie",
            "example": "non"
          },
          "valeur_min_requise": {
            "type": "number",
            "description": "Valeur minimale requise",
            "example": 21
          },
          "valeur_max_requise": {
            "type": "number",
            "description": "Valeur maximale requise",
            "example": 70
          },
          "operateur": {
            "type": "string",
            "enum": [
              "egal",
              "different",
              "superieur",
              "inferieur",
              "entre",
              "hors"
            ],
            "description": "Opérateur de comparaison",
            "example": "superieur"
          }
        }
      },
      "CreateTarifGarantieDto": {
        "type": "object",
        "properties": {
          "garantie_id": {
            "type": "string",
            "description": "ID de la garantie",
            "example": "uuid-de-la-garantie"
          },
          "type_calcul": {
            "type": "string",
            "enum": [
              "montant_fixe",
              "pourcentage_valeur_neuve",
              "pourcentage_valeur_venale",
              "formule_personnalisee"
            ],
            "description": "Type de calcul du tarif",
            "example": "montant_fixe",
            "default": "montant_fixe"
          },
          "taux_pourcentage": {
            "type": "number",
            "description": "Taux de pourcentage pour calcul sur VN ou VV (ex: 3.5 pour 3.5%)",
            "example": 3.5
          },
          "montant_base": {
            "type": "number",
            "description": "Montant de base en FCFA (utilisé si type_calcul = MONTANT_FIXE)",
            "example": 25000
          },
          "pourcentage_produit": {
            "type": "number",
            "description": "Pourcentage appliqué sur le montant du produit",
            "example": 2.5
          },
          "formule_calcul": {
            "type": "string",
            "description": "Formule de calcul personnalisée",
            "example": "montant_base + (valeur_vehicule * 0.01)"
          },
          "date_debut": {
            "type": "string",
            "description": "Date de début de validité du tarif",
            "example": "2025-01-01"
          },
          "date_fin": {
            "type": "string",
            "description": "Date de fin de validité du tarif",
            "example": "2025-12-31"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "futur"
            ],
            "description": "Statut du tarif",
            "example": "actif",
            "default": "actif"
          }
        },
        "required": [
          "garantie_id",
          "type_calcul",
          "date_debut",
          "statut"
        ]
      },
      "TarifGarantieDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du tarif"
          },
          "garantie_id": {
            "type": "string",
            "description": "ID de la garantie"
          },
          "type_calcul": {
            "type": "string",
            "enum": [
              "montant_fixe",
              "pourcentage_valeur_neuve",
              "pourcentage_valeur_venale",
              "formule_personnalisee"
            ],
            "description": "Type de calcul du tarif"
          },
          "taux_pourcentage": {
            "type": "number",
            "description": "Taux de pourcentage pour calcul sur VN ou VV"
          },
          "montant_base": {
            "type": "number",
            "description": "Montant de base en FCFA"
          },
          "pourcentage_produit": {
            "type": "number",
            "description": "Pourcentage appliqué sur le produit"
          },
          "formule_calcul": {
            "type": "string",
            "description": "Formule de calcul personnalisée"
          },
          "date_debut": {
            "format": "date-time",
            "type": "string",
            "description": "Date de début de validité"
          },
          "date_fin": {
            "format": "date-time",
            "type": "string",
            "description": "Date de fin de validité"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "futur"
            ],
            "description": "Statut du tarif"
          },
          "created_by": {
            "type": "string",
            "description": "ID de l'utilisateur créateur"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de dernière modification"
          }
        },
        "required": [
          "id",
          "garantie_id",
          "type_calcul",
          "date_debut",
          "statut",
          "created_at",
          "updated_at"
        ]
      },
      "UpdateTarifGarantieDto": {
        "type": "object",
        "properties": {
          "type_calcul": {
            "type": "string",
            "enum": [
              "montant_fixe",
              "pourcentage_valeur_neuve",
              "pourcentage_valeur_venale",
              "formule_personnalisee"
            ],
            "description": "Type de calcul du tarif",
            "example": "pourcentage_valeur_neuve"
          },
          "taux_pourcentage": {
            "type": "number",
            "description": "Taux de pourcentage pour calcul sur VN ou VV (ex: 3.5 pour 3.5%)",
            "example": 3.5
          },
          "montant_base": {
            "type": "number",
            "description": "Montant de base en FCFA",
            "example": 30000
          },
          "pourcentage_produit": {
            "type": "number",
            "description": "Pourcentage appliqué sur le montant du produit",
            "example": 3
          },
          "formule_calcul": {
            "type": "string",
            "description": "Formule de calcul personnalisée",
            "example": "montant_base + (valeur_vehicule * 0.015)"
          },
          "date_debut": {
            "type": "string",
            "description": "Date de début de validité",
            "example": "2025-06-01"
          },
          "date_fin": {
            "type": "string",
            "description": "Date de fin de validité",
            "example": "2026-05-31"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "futur"
            ],
            "description": "Statut du tarif",
            "example": "inactif"
          }
        }
      },
      "CreateGrilleTarifaireDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom de la grille tarifaire",
            "example": "Grille Standard 2024",
            "maxLength": 255
          },
          "produit_id": {
            "type": "string",
            "description": "ID du produit associé",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "date_debut": {
            "type": "string",
            "description": "Date de début de validité de la grille",
            "example": "2024-01-01"
          },
          "date_fin": {
            "type": "string",
            "description": "Date de fin de validité de la grille (optionnelle)",
            "example": "2024-12-31"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "futur"
            ],
            "description": "Statut de la grille tarifaire",
            "example": "inactif",
            "default": "inactif"
          }
        },
        "required": [
          "nom",
          "produit_id",
          "date_debut",
          "statut"
        ]
      },
      "GrilleTarifaireWithProduitDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique de la grille tarifaire"
          },
          "nom": {
            "type": "string",
            "description": "Nom de la grille tarifaire"
          },
          "produit_id": {
            "type": "string",
            "description": "ID du produit associé"
          },
          "date_debut": {
            "format": "date-time",
            "type": "string",
            "description": "Date de début de validité"
          },
          "date_fin": {
            "format": "date-time",
            "type": "string",
            "description": "Date de fin de validité"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "futur"
            ],
            "description": "Statut de la grille"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de dernière modification"
          },
          "created_by": {
            "type": "string",
            "description": "ID de l'utilisateur créateur"
          },
          "nombre_tarifs": {
            "type": "number",
            "description": "Nombre de tarifs dans cette grille"
          },
          "produit": {
            "type": "object",
            "description": "Données du produit associé"
          }
        },
        "required": [
          "id",
          "nom",
          "produit_id",
          "date_debut",
          "statut",
          "created_at",
          "updated_at",
          "created_by",
          "nombre_tarifs",
          "produit"
        ]
      },
      "GrillesTarifairesWithProduitResponseDto": {
        "type": "object",
        "properties": {
          "grilles": {
            "description": "Liste des grilles tarifaires avec données du produit",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GrilleTarifaireWithProduitDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total de grilles tarifaires"
          },
          "page": {
            "type": "number",
            "description": "Page actuelle"
          },
          "limit": {
            "type": "number",
            "description": "Nombre d'éléments par page"
          },
          "totalPages": {
            "type": "number",
            "description": "Nombre total de pages"
          }
        },
        "required": [
          "grilles",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "UpdateGrilleTarifaireDto": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom de la grille tarifaire",
            "example": "Grille Standard 2024 Mise à jour",
            "maxLength": 255
          },
          "date_debut": {
            "type": "string",
            "description": "Date de début de validité de la grille",
            "example": "2024-01-01"
          },
          "date_fin": {
            "type": "string",
            "description": "Date de fin de validité de la grille",
            "example": "2024-12-31"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "futur"
            ],
            "description": "Statut de la grille tarifaire",
            "example": "actif"
          }
        }
      },
      "CreateTarifDto": {
        "type": "object",
        "properties": {
          "grille_id": {
            "type": "string",
            "description": "ID de la grille tarifaire"
          },
          "type_calcul": {
            "type": "string",
            "description": "Type de calcul du tarif",
            "enum": [
              "montant_fixe",
              "pourcentage_valeur_neuve",
              "pourcentage_valeur_venale",
              "formule_personnalisee"
            ],
            "default": "montant_fixe"
          },
          "montant_fixe": {
            "type": "number",
            "description": "Montant fixe du tarif (requis si type_calcul = montant_fixe)"
          },
          "taux_pourcentage": {
            "type": "number",
            "description": "Taux de pourcentage (requis si type_calcul = pourcentage_valeur_neuve ou pourcentage_valeur_venale)",
            "example": 3.5
          },
          "formule_calcul": {
            "type": "string",
            "description": "Formule de calcul personnalisée (requis si type_calcul = formule_personnalisee)",
            "example": "montant_base + (valeur_neuve * 0.01)"
          },
          "critere_id": {
            "type": "string",
            "description": "ID du critère de tarification"
          },
          "valeur_critere_id": {
            "type": "string",
            "description": "ID de la valeur du critère"
          },
          "criteres_combines": {
            "type": "object",
            "description": "Critères combinés pour le tarif (pour les produits multi-critères)",
            "example": {
              "Garantie": "Tous Risques",
              "Type de véhicule": "Promenade et affaires"
            }
          }
        },
        "required": [
          "grille_id",
          "type_calcul"
        ]
      },
      "TarifWithGrilleDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du tarif"
          },
          "grille_id": {
            "type": "string",
            "description": "ID de la grille tarifaire"
          },
          "type_calcul": {
            "type": "string",
            "description": "Type de calcul du tarif",
            "enum": [
              "montant_fixe",
              "pourcentage_valeur_neuve",
              "pourcentage_valeur_venale",
              "formule_personnalisee"
            ]
          },
          "montant_fixe": {
            "type": "number",
            "description": "Montant fixe du tarif"
          },
          "taux_pourcentage": {
            "type": "number",
            "description": "Taux de pourcentage"
          },
          "formule_calcul": {
            "type": "string",
            "description": "Formule de calcul personnalisée"
          },
          "critere_id": {
            "type": "string",
            "description": "ID du critère de tarification"
          },
          "valeur_critere_id": {
            "type": "string",
            "description": "ID de la valeur du critère"
          },
          "criteres_combines": {
            "type": "object",
            "description": "Critères combinés pour le tarif"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          },
          "grilleTarifaire": {
            "type": "object",
            "description": "Grille tarifaire associée"
          }
        },
        "required": [
          "id",
          "grille_id",
          "type_calcul",
          "created_at",
          "grilleTarifaire"
        ]
      },
      "TarifsWithGrilleResponseDto": {
        "type": "object",
        "properties": {
          "tarifs": {
            "description": "Liste des tarifs avec grilles",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total de tarifs"
          },
          "page": {
            "type": "number",
            "description": "Page actuelle"
          },
          "limit": {
            "type": "number",
            "description": "Taille de la page"
          }
        },
        "required": [
          "tarifs",
          "total",
          "page",
          "limit"
        ]
      },
      "UpdateTarifDto": {
        "type": "object",
        "properties": {
          "grille_id": {
            "type": "string",
            "description": "ID de la grille tarifaire"
          },
          "type_calcul": {
            "type": "string",
            "description": "Type de calcul du tarif",
            "enum": [
              "montant_fixe",
              "pourcentage_valeur_neuve",
              "pourcentage_valeur_venale",
              "formule_personnalisee"
            ]
          },
          "montant_fixe": {
            "type": "number",
            "description": "Montant fixe du tarif"
          },
          "taux_pourcentage": {
            "type": "number",
            "description": "Taux de pourcentage"
          },
          "formule_calcul": {
            "type": "string",
            "description": "Formule de calcul personnalisée"
          },
          "critere_id": {
            "type": "string",
            "description": "ID du critère de tarification"
          },
          "valeur_critere_id": {
            "type": "string",
            "description": "ID de la valeur du critère"
          },
          "criteres_combines": {
            "type": "object",
            "description": "Critères combinés pour le tarif (pour les produits multi-critères)"
          }
        }
      },
      "TarifDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du tarif"
          },
          "grille_id": {
            "type": "string",
            "description": "ID de la grille tarifaire"
          },
          "type_calcul": {
            "type": "string",
            "description": "Type de calcul du tarif",
            "enum": [
              "montant_fixe",
              "pourcentage_valeur_neuve",
              "pourcentage_valeur_venale",
              "formule_personnalisee"
            ]
          },
          "montant_fixe": {
            "type": "number",
            "description": "Montant fixe du tarif"
          },
          "taux_pourcentage": {
            "type": "number",
            "description": "Taux de pourcentage"
          },
          "formule_calcul": {
            "type": "string",
            "description": "Formule de calcul personnalisée"
          },
          "critere_id": {
            "type": "string",
            "description": "ID du critère de tarification"
          },
          "valeur_critere_id": {
            "type": "string",
            "description": "ID de la valeur du critère"
          },
          "criteres_combines": {
            "type": "object",
            "description": "Critères combinés pour le tarif"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          }
        },
        "required": [
          "id",
          "grille_id",
          "type_calcul",
          "created_at"
        ]
      },
      "CalculPrimeResponseDto": {
        "type": "object",
        "properties": {
          "tarif": {
            "description": "Tarif utilisé pour le calcul",
            "allOf": [
              {
                "$ref": "#/components/schemas/TarifDto"
              }
            ]
          },
          "prime_calculee": {
            "type": "number",
            "description": "Prime calculée"
          },
          "montant_calcule": {
            "type": "number",
            "description": "Montant utilisé dans le calcul"
          },
          "pourcentage_calcule": {
            "type": "number",
            "description": "Pourcentage utilisé dans le calcul"
          },
          "formule_utilisee": {
            "type": "string",
            "description": "Formule utilisée pour le calcul"
          }
        },
        "required": [
          "tarif",
          "prime_calculee"
        ]
      },
      "DevisAdminDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du devis",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "reference": {
            "type": "string",
            "description": "Référence unique du devis simulé",
            "example": "VIE-20241110-0001"
          },
          "produit": {
            "type": "object",
            "description": "Informations du produit",
            "example": {
              "id": "...",
              "nom": "Assurance Vie",
              "type": "vie"
            }
          },
          "grille_tarifaire": {
            "type": "object",
            "description": "Informations de la grille tarifaire",
            "example": {
              "id": "...",
              "nom": "Grille Standard"
            }
          },
          "utilisateur": {
            "type": "object",
            "description": "Informations du client (utilisateur)",
            "example": {
              "id": "...",
              "nom": "Jean Dupont",
              "email": "jean@example.com"
            }
          },
          "criteres_utilisateur": {
            "type": "object",
            "description": "Critères utilisateur utilisés pour la simulation",
            "example": {
              "capital": 5000000,
              "age": 35
            }
          },
          "prime_calculee": {
            "type": "number",
            "description": "Prime calculée en FCFA",
            "example": 25000
          },
          "franchise_calculee": {
            "type": "number",
            "description": "Franchise calculée en FCFA",
            "example": 5000
          },
          "plafond_calcule": {
            "type": "number",
            "description": "Plafond calculé en FCFA (optionnel)",
            "example": 1000000
          },
          "statut": {
            "type": "string",
            "enum": [
              "simulation",
              "sauvegarde",
              "en_attente_paiement",
              "paye",
              "converti_en_contrat",
              "expire"
            ],
            "description": "Statut du devis",
            "example": "sauvegarde"
          },
          "expires_at": {
            "type": "object",
            "description": "Date d'expiration (pour les simulations)"
          },
          "nom_personnalise": {
            "type": "string",
            "description": "Nom personnalisé du devis",
            "example": "Mon assurance vie familiale"
          },
          "notes": {
            "type": "string",
            "description": "Notes personnelles",
            "example": "Devis pour la famille"
          },
          "informations_assure": {
            "type": "object",
            "description": "Informations de l'assuré",
            "example": {
              "nom_complet": "Jean Dupont",
              "date_naissance": "1985-01-01"
            }
          },
          "informations_vehicule": {
            "type": "object",
            "description": "Informations du véhicule (pour les assurances auto)",
            "example": {
              "marque": "Toyota",
              "modele": "Corolla",
              "immatriculation": "DK-1234-AB"
            }
          },
          "assure_est_souscripteur": {
            "type": "boolean",
            "description": "L'assuré est-il le souscripteur ?",
            "example": true
          },
          "nombre_documents": {
            "type": "number",
            "description": "Nombre de documents d'identité associés",
            "example": 2
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création du devis"
          }
        },
        "required": [
          "id",
          "reference",
          "produit",
          "grille_tarifaire",
          "criteres_utilisateur",
          "prime_calculee",
          "franchise_calculee",
          "statut",
          "assure_est_souscripteur",
          "nombre_documents",
          "created_at"
        ]
      },
      "DevisListResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Liste des devis",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DevisAdminDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total de devis",
            "example": 25
          },
          "page": {
            "type": "number",
            "description": "Numéro de page actuelle",
            "example": 1
          },
          "limit": {
            "type": "number",
            "description": "Nombre d'éléments par page",
            "example": 10
          },
          "totalPages": {
            "type": "number",
            "description": "Nombre total de pages",
            "example": 3
          }
        },
        "required": [
          "data",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "DevisStatsDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Nombre total de devis",
            "example": 150
          },
          "par_statut": {
            "type": "object",
            "description": "Nombre de devis par statut",
            "example": {
              "simulation": 20,
              "sauvegarde": 50,
              "en_attente_paiement": 30,
              "paye": 40,
              "converti_en_contrat": 8,
              "expire": 2
            }
          },
          "prime_totale": {
            "type": "number",
            "description": "Prime totale calculée en FCFA",
            "example": 5000000
          },
          "ce_mois": {
            "type": "number",
            "description": "Nombre de devis créés ce mois",
            "example": 25
          }
        },
        "required": [
          "total",
          "par_statut",
          "prime_totale",
          "ce_mois"
        ]
      },
      "UpdateDevisStatutDto": {
        "type": "object",
        "properties": {
          "statut": {
            "type": "string",
            "enum": [
              "simulation",
              "sauvegarde",
              "en_attente_paiement",
              "paye",
              "converti_en_contrat",
              "expire"
            ],
            "description": "Nouveau statut du devis",
            "example": "paye"
          }
        },
        "required": [
          "statut"
        ]
      },
      "ContratBeneficiaireDto": {
        "type": "object",
        "properties": {
          "nom_complet": {
            "type": "string",
            "description": "Nom complet du bénéficiaire",
            "example": "Jean Dupont"
          },
          "lien_souscripteur": {
            "type": "string",
            "description": "Lien avec le souscripteur",
            "example": "Épouse"
          },
          "ordre": {
            "type": "number",
            "description": "Ordre de priorité du bénéficiaire",
            "example": 1
          }
        },
        "required": [
          "nom_complet",
          "lien_souscripteur",
          "ordre"
        ]
      },
      "ContratAdminDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du contrat"
          },
          "numero_contrat": {
            "type": "string",
            "description": "Numéro unique du contrat",
            "example": "VIE-2025-000001"
          },
          "devis": {
            "type": "object",
            "description": "Informations du devis associé",
            "example": {
              "id": "...",
              "reference": "NONVIE-20250101-0001",
              "statut": "converti_en_contrat"
            }
          },
          "produit": {
            "type": "object",
            "description": "Informations du produit",
            "example": {
              "id": "...",
              "nom": "Assurance Vie",
              "type": "vie"
            }
          },
          "grille_tarifaire": {
            "type": "object",
            "description": "Informations de la grille tarifaire",
            "example": {
              "id": "...",
              "nom": "Grille Standard"
            }
          },
          "utilisateur": {
            "type": "object",
            "description": "Informations du client (utilisateur)"
          },
          "criteres_utilisateur": {
            "type": "object",
            "description": "Critères utilisateur",
            "example": {
              "capital": 5000000,
              "age": 35
            }
          },
          "prime_mensuelle": {
            "type": "number",
            "description": "Prime mensuelle en FCFA",
            "example": 25000
          },
          "franchise": {
            "type": "number",
            "description": "Franchise en FCFA",
            "example": 5000
          },
          "plafond": {
            "type": "number",
            "description": "Plafond en FCFA",
            "example": 1000000
          },
          "periodicite_paiement": {
            "type": "string",
            "description": "Périodicité de paiement des primes",
            "example": "mensuel"
          },
          "duree_couverture": {
            "type": "number",
            "description": "Durée de couverture (en mois)",
            "example": 12
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "suspendu",
              "resilie",
              "expire"
            ],
            "description": "Statut du contrat",
            "example": "actif"
          },
          "date_debut_couverture": {
            "format": "date-time",
            "type": "string",
            "description": "Date de début de couverture"
          },
          "date_fin_couverture": {
            "format": "date-time",
            "type": "string",
            "description": "Date de fin de couverture"
          },
          "assure_est_souscripteur": {
            "type": "boolean",
            "description": "L'assuré est-il le souscripteur ?",
            "example": true
          },
          "informations_assure": {
            "type": "object",
            "description": "Informations de l'assuré",
            "example": {
              "nom": "Jean Dupont",
              "date_naissance": "1990-05-12"
            }
          },
          "chemin_recto_assure": {
            "type": "object",
            "description": "Chemin document identité recto"
          },
          "chemin_verso_assure": {
            "type": "object",
            "description": "Chemin document identité verso"
          },
          "chemin_contrat_final": {
            "type": "object",
            "description": "Chemin du contrat final téléversé"
          },
          "nombre_beneficiaires": {
            "type": "number",
            "description": "Nombre de bénéficiaires associés",
            "example": 2
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création du contrat"
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de dernière mise à jour du contrat"
          },
          "beneficiaires": {
            "description": "Liste des bénéficiaires associés",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContratBeneficiaireDto"
            }
          }
        },
        "required": [
          "id",
          "numero_contrat",
          "produit",
          "grille_tarifaire",
          "criteres_utilisateur",
          "prime_mensuelle",
          "franchise",
          "periodicite_paiement",
          "duree_couverture",
          "statut",
          "date_debut_couverture",
          "date_fin_couverture",
          "assure_est_souscripteur",
          "nombre_beneficiaires",
          "created_at",
          "updated_at"
        ]
      },
      "ContratsListResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Liste des contrats",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContratAdminDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total de contrats",
            "example": 25
          },
          "page": {
            "type": "number",
            "description": "Numéro de page actuelle",
            "example": 1
          },
          "limit": {
            "type": "number",
            "description": "Nombre d'éléments par page",
            "example": 10
          },
          "totalPages": {
            "type": "number",
            "description": "Nombre total de pages",
            "example": 3
          }
        },
        "required": [
          "data",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "ContratsStatsDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Nombre total de contrats",
            "example": 150
          },
          "par_statut": {
            "type": "object",
            "description": "Nombre de contrats par statut"
          },
          "primes_totales": {
            "type": "number",
            "description": "Somme des primes mensuelles",
            "example": 5000000
          },
          "ce_mois": {
            "type": "number",
            "description": "Nombre de contrats créés ce mois",
            "example": 25
          }
        },
        "required": [
          "total",
          "par_statut",
          "primes_totales",
          "ce_mois"
        ]
      },
      "UpdateContratStatutDto": {
        "type": "object",
        "properties": {
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "suspendu",
              "resilie",
              "expire"
            ],
            "description": "Nouveau statut",
            "example": "suspendu"
          }
        },
        "required": [
          "statut"
        ]
      },
      "PaiementAdminDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "reference_paiement": {
            "type": "string"
          },
          "montant": {
            "type": "number"
          },
          "methode_paiement": {
            "type": "string",
            "enum": [
              "mobile_money",
              "wallet"
            ]
          },
          "statut": {
            "type": "string",
            "enum": [
              "en_attente",
              "reussi",
              "echoue",
              "rembourse",
              "annule"
            ]
          },
          "reference_externe": {
            "type": "string"
          },
          "numero_telephone": {
            "type": "string"
          },
          "currency": {
            "type": "string"
          },
          "date_paiement": {
            "type": "object"
          },
          "cinetpay_transaction_id": {
            "type": "string"
          },
          "operator_id": {
            "type": "string"
          },
          "created_at": {
            "format": "date-time",
            "type": "string"
          },
          "updated_at": {
            "format": "date-time",
            "type": "string"
          },
          "utilisateur": {
            "type": "object"
          },
          "devis": {
            "type": "object"
          }
        },
        "required": [
          "id",
          "reference_paiement",
          "montant",
          "methode_paiement",
          "statut",
          "created_at"
        ]
      },
      "PaiementsListResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaiementAdminDto"
            }
          },
          "total": {
            "type": "number"
          },
          "page": {
            "type": "number"
          },
          "limit": {
            "type": "number"
          },
          "totalPages": {
            "type": "number"
          }
        },
        "required": [
          "data",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "ProduitDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du produit"
          },
          "nom": {
            "type": "string",
            "description": "Nom du produit"
          },
          "icon": {
            "type": "string",
            "description": "Icône du produit"
          },
          "icon_url": {
            "type": "string",
            "description": "URL de l'icône SVG du produit"
          },
          "type": {
            "type": "string",
            "enum": [
              "vie",
              "non-vie"
            ],
            "description": "Type du produit (vie ou non-vie)"
          },
          "description": {
            "type": "string",
            "description": "Description détaillée du produit"
          },
          "conditions_pdf": {
            "type": "string",
            "description": "Lien vers les conditions PDF"
          },
          "statut": {
            "type": "string",
            "enum": [
              "actif",
              "inactif",
              "brouillon"
            ],
            "description": "Statut du produit"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création"
          },
          "necessite_beneficiaires": {
            "type": "boolean",
            "description": "Le produit nécessite-t-il des bénéficiaires ?",
            "example": true
          },
          "max_beneficiaires": {
            "type": "number",
            "description": "Nombre maximum de bénéficiaires autorisés",
            "example": 2
          },
          "necessite_informations_vehicule": {
            "type": "boolean",
            "description": "Le produit nécessite-t-il les informations du véhicule ?",
            "example": false
          },
          "periodicite_prime": {
            "type": "string",
            "enum": [
              "journalier",
              "mensuel",
              "annuel"
            ],
            "description": "Périodicité de paiement de la prime",
            "example": "mensuel"
          },
          "branche": {
            "type": "object",
            "description": "Branche du produit"
          }
        },
        "required": [
          "id",
          "nom",
          "icon",
          "icon_url",
          "type",
          "description",
          "conditions_pdf",
          "statut",
          "created_at",
          "necessite_beneficiaires",
          "max_beneficiaires",
          "necessite_informations_vehicule",
          "periodicite_prime"
        ]
      },
      "ValeurCriterePublicDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique de la valeur"
          },
          "valeur": {
            "type": "string",
            "description": "Valeur du critère (pour type catégoriel ou booléen)"
          },
          "valeur_min": {
            "type": "number",
            "description": "Valeur minimale (pour type numérique)"
          },
          "valeur_max": {
            "type": "number",
            "description": "Valeur maximale (pour type numérique)"
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage de la valeur"
          }
        },
        "required": [
          "id",
          "valeur",
          "valeur_min",
          "valeur_max",
          "ordre"
        ]
      },
      "CritereTarificationPublicDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du critère"
          },
          "nom": {
            "type": "string",
            "description": "Nom du critère"
          },
          "type": {
            "type": "string",
            "enum": [
              "numerique",
              "categoriel",
              "booleen",
              "texte",
              "date"
            ],
            "description": "Type du critère (numérique, catégoriel ou booléen)"
          },
          "unite": {
            "type": "string",
            "description": "Unité de mesure (pour type numérique)"
          },
          "ordre": {
            "type": "number",
            "description": "Ordre d'affichage du critère"
          },
          "obligatoire": {
            "type": "boolean",
            "description": "Indique si le critère est obligatoire"
          },
          "valeurs": {
            "description": "Valeurs possibles pour ce critère",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ValeurCriterePublicDto"
            }
          },
          "nombre_valeurs": {
            "type": "number",
            "description": "Nombre de valeurs associées"
          }
        },
        "required": [
          "id",
          "nom",
          "type",
          "unite",
          "ordre",
          "obligatoire",
          "valeurs",
          "nombre_valeurs"
        ]
      },
      "CriteresPublicResponseDto": {
        "type": "object",
        "properties": {
          "criteres": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CritereTarificationPublicDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total de critères"
          },
          "page": {
            "type": "number",
            "description": "Page actuelle"
          },
          "limit": {
            "type": "number",
            "description": "Nombre d'éléments par page"
          },
          "total_pages": {
            "type": "number",
            "description": "Nombre total de pages"
          }
        },
        "required": [
          "criteres",
          "total",
          "page",
          "limit",
          "total_pages"
        ]
      },
      "InformationsAssureDto": {
        "type": "object",
        "properties": {
          "nom_complet": {
            "type": "string",
            "description": "Nom complet de la personne à assurer",
            "example": "Jean Martin"
          },
          "date_naissance": {
            "type": "string",
            "description": "Date de naissance (format DD-MM-YYYY)",
            "example": "15-06-1985"
          },
          "type_piece_identite": {
            "type": "string",
            "description": "Type de pièce d'identité",
            "example": "Carte d'identité"
          },
          "numero_piece_identite": {
            "type": "string",
            "description": "Numéro de la pièce d'identité",
            "example": "1234567890123"
          },
          "email": {
            "type": "string",
            "description": "Adresse email",
            "example": "jean.martin@email.com"
          },
          "telephone": {
            "type": "string",
            "description": "Numéro de téléphone",
            "example": "+221771234567"
          },
          "adresse": {
            "type": "string",
            "description": "Adresse physique",
            "example": "123 Rue de la Paix, Dakar"
          }
        },
        "required": [
          "nom_complet",
          "date_naissance",
          "type_piece_identite",
          "numero_piece_identite",
          "email",
          "telephone",
          "adresse"
        ]
      },
      "InformationsVehiculeDto": {
        "type": "object",
        "properties": {
          "marque": {
            "type": "string",
            "description": "Marque du véhicule",
            "example": "Toyota"
          },
          "modele": {
            "type": "string",
            "description": "Modèle du véhicule",
            "example": "Corolla"
          },
          "immatriculation": {
            "type": "string",
            "description": "Numéro d'immatriculation",
            "example": "DK-1234-AB"
          },
          "numero_chassis": {
            "type": "string",
            "description": "Numéro de châssis",
            "example": "JTDBF32K000012345"
          },
          "zone_stationnement": {
            "type": "string",
            "description": "Zone de stationnement habituel",
            "example": "Dakar"
          },
          "couleur": {
            "type": "string",
            "description": "Couleur du véhicule",
            "example": "Gris métallisé"
          },
          "annee_mise_circulation": {
            "type": "string",
            "description": "Année de première mise en circulation",
            "example": "2020"
          },
          "nombre_places": {
            "type": "string",
            "description": "Nombre de places",
            "example": "5"
          },
          "usage": {
            "type": "string",
            "description": "Usage du véhicule (personnel, professionnel, mixte)",
            "example": "personnel"
          }
        },
        "required": [
          "marque",
          "modele",
          "immatriculation",
          "numero_chassis",
          "zone_stationnement"
        ]
      },
      "CreateSimulationDevisSimplifieeDto": {
        "type": "object",
        "properties": {
          "produit_id": {
            "type": "string",
            "description": "ID du produit d'assurance",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "criteres_utilisateur": {
            "type": "object",
            "description": "Critères choisis par l'utilisateur (ex: capital, âge)",
            "example": {
              "capital": 5000000,
              "age": 30
            }
          },
          "assure_est_souscripteur": {
            "type": "boolean",
            "description": "L'assuré est-il le souscripteur lui-même ?",
            "example": true,
            "default": true
          },
          "informations_assure": {
            "description": "Informations de la personne à assurer (si différente du souscripteur)",
            "allOf": [
              {
                "$ref": "#/components/schemas/InformationsAssureDto"
              }
            ]
          },
          "informations_vehicule": {
            "description": "Informations du véhicule (pour les assurances auto)",
            "allOf": [
              {
                "$ref": "#/components/schemas/InformationsVehiculeDto"
              }
            ]
          }
        },
        "required": [
          "produit_id",
          "criteres_utilisateur",
          "assure_est_souscripteur"
        ]
      },
      "SimulationDevisSimplifieeResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID du devis simulé",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "reference": {
            "type": "string",
            "description": "Référence du devis simulé",
            "example": "VIE-20241110-0001"
          },
          "nom_produit": {
            "type": "string",
            "description": "Nom du produit",
            "example": "Assurance Vie Épargne Plus"
          },
          "type_produit": {
            "type": "string",
            "description": "Type du produit",
            "example": "vie"
          },
          "periodicite_prime": {
            "type": "string",
            "description": "Périodicité de la prime",
            "example": "mensuel"
          },
          "criteres_utilisateur": {
            "type": "object",
            "description": "Critères sélectionnés",
            "example": {
              "capital": 5000000,
              "tranche_age": "18-30 ans"
            }
          },
          "prime_calculee": {
            "type": "number",
            "description": "Prime calculée (tarif fixe)",
            "example": 12500
          },
          "assure_est_souscripteur": {
            "type": "boolean",
            "description": "L'assuré est-il le souscripteur ?",
            "example": true
          },
          "informations_assure": {
            "description": "Informations de l'assuré (si différent du souscripteur)",
            "allOf": [
              {
                "$ref": "#/components/schemas/InformationsAssureDto"
              }
            ]
          },
          "informations_vehicule": {
            "type": "object",
            "description": "Informations du véhicule (pour les assurances auto)"
          },
          "front_document_path": {
            "type": "string",
            "description": "Chemin vers la photo recto de l'assuré (si assuré ≠ souscripteur)",
            "example": "uploads/profiles/assures/devis_123/recto.png"
          },
          "back_document_path": {
            "type": "string",
            "description": "Chemin vers la photo verso de l'assuré (si assuré ≠ souscripteur)",
            "example": "uploads/profiles/assures/devis_123/verso.png"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création",
            "example": "2024-01-15T10:30:00.000Z"
          }
        },
        "required": [
          "id",
          "reference",
          "nom_produit",
          "type_produit",
          "periodicite_prime",
          "criteres_utilisateur",
          "prime_calculee",
          "assure_est_souscripteur",
          "created_at"
        ]
      },
      "SauvegardeDevisDto": {
        "type": "object",
        "properties": {
          "devis_id": {
            "type": "string",
            "description": "ID du devis simulé à sauvegarder",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "nom_personnalise": {
            "type": "string",
            "description": "Nom personnalisé pour le devis (optionnel)",
            "example": "Mon assurance vie familiale"
          },
          "notes": {
            "type": "string",
            "description": "Notes personnelles sur le devis (optionnel)",
            "example": "Devis pour la famille, à revoir avec le conseiller"
          }
        },
        "required": [
          "devis_id"
        ]
      },
      "DevisSauvegardeDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID unique du devis",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "reference": {
            "type": "string",
            "description": "Référence unique du devis",
            "example": "NONVIE-20241110-0003"
          },
          "nom_produit": {
            "type": "string",
            "description": "Nom du produit",
            "example": "Assurance Vie Épargne Plus"
          },
          "type_produit": {
            "type": "string",
            "description": "Type de produit",
            "example": "vie"
          },
          "prime_calculee": {
            "type": "number",
            "description": "Prime calculée en FCFA",
            "example": 25000
          },
          "franchise_calculee": {
            "type": "number",
            "description": "Franchise calculée en FCFA",
            "example": 5000
          },
          "plafond_calcule": {
            "type": "number",
            "description": "Plafond calculé en FCFA (optionnel)",
            "example": 1000000
          },
          "criteres_utilisateur": {
            "type": "object",
            "description": "Critères utilisateur utilisés pour la simulation",
            "example": {
              "capital": 5000000,
              "age": 35
            }
          },
          "informations_assure": {
            "type": "object",
            "description": "Informations de l'assuré",
            "example": {
              "nom": "Jean Dupont",
              "age": 35
            }
          },
          "assure_est_souscripteur": {
            "type": "boolean",
            "description": "L'assuré est-il le souscripteur ?",
            "example": true
          },
          "statut": {
            "type": "string",
            "enum": [
              "simulation",
              "sauvegarde",
              "en_attente_paiement",
              "paye",
              "converti_en_contrat",
              "expire"
            ],
            "description": "Statut du devis",
            "example": "sauvegarde"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Date de création du devis"
          },
          "nom_personnalise": {
            "type": "string",
            "description": "Nom personnalisé du devis",
            "example": "Mon assurance vie familiale"
          },
          "notes": {
            "type": "string",
            "description": "Notes personnelles",
            "example": "Devis pour la famille"
          },
          "nombre_documents": {
            "type": "number",
            "description": "Nombre de documents d'identité associés",
            "example": 2
          }
        },
        "required": [
          "id",
          "reference",
          "nom_produit",
          "type_produit",
          "prime_calculee",
          "franchise_calculee",
          "criteres_utilisateur",
          "assure_est_souscripteur",
          "statut",
          "created_at",
          "nombre_documents"
        ]
      },
      "DevisSauvegardesResponseDto": {
        "type": "object",
        "properties": {
          "devis": {
            "description": "Liste des devis sauvegardés",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DevisSauvegardeDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Nombre total de devis",
            "example": 25
          },
          "page": {
            "type": "number",
            "description": "Numéro de page actuelle",
            "example": 1
          },
          "limit": {
            "type": "number",
            "description": "Nombre d'éléments par page",
            "example": 10
          },
          "totalPages": {
            "type": "number",
            "description": "Nombre total de pages",
            "example": 3
          }
        },
        "required": [
          "devis",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "ModifierDevisSauvegardeDto": {
        "type": "object",
        "properties": {
          "nom_personnalise": {
            "type": "string",
            "description": "Nouveau nom personnalisé (optionnel)",
            "example": "Assurance vie mise à jour"
          },
          "notes": {
            "type": "string",
            "description": "Nouvelles notes (optionnel)",
            "example": "Notes mises à jour"
          }
        }
      },
      "BeneficiaireSouscriptionDto": {
        "type": "object",
        "properties": {
          "nom_complet": {
            "type": "string",
            "description": "Nom complet du bénéficiaire",
            "example": "Marie Dupont"
          },
          "lien_souscripteur": {
            "type": "string",
            "description": "Lien avec le souscripteur",
            "example": "Épouse"
          },
          "ordre": {
            "type": "number",
            "description": "Ordre de priorité du bénéficiaire",
            "example": 1
          }
        },
        "required": [
          "nom_complet",
          "lien_souscripteur",
          "ordre"
        ]
      },
      "SouscrireDevisDto": {
        "type": "object",
        "properties": {
          "methode_paiement": {
            "type": "string",
            "description": "Méthode de paiement choisie (MOBILE_MONEY ou WALLET)",
            "enum": [
              "mobile_money",
              "wallet"
            ],
            "example": "mobile_money"
          },
          "numero_telephone": {
            "type": "string",
            "description": "Numéro de téléphone pour les paiements mobile money",
            "example": "+221771234567"
          },
          "currency": {
            "type": "string",
            "description": "Devise du paiement (XOF, XAF)",
            "example": "XOF",
            "default": "XOF"
          },
          "beneficiaires": {
            "description": "Liste des bénéficiaires (requis si le produit nécessite des bénéficiaires)",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BeneficiaireSouscriptionDto"
            }
          }
        },
        "required": [
          "methode_paiement"
        ]
      },
      "SouscriptionResponseDto": {
        "type": "object",
        "properties": {
          "paiement_id": {
            "type": "string",
            "description": "ID du paiement",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "reference_paiement": {
            "type": "string",
            "description": "Référence du paiement",
            "example": "PAY-1234567890-0001"
          },
          "statut_paiement": {
            "type": "string",
            "description": "Statut du paiement",
            "example": "en_attente"
          },
          "montant": {
            "type": "number",
            "description": "Montant à payer",
            "example": 12500
          },
          "payment_url": {
            "type": "string",
            "description": "URL de paiement CinetPay",
            "example": "https://secure.cinetpay.com/..."
          },
          "currency": {
            "type": "string",
            "description": "Devise utilisée",
            "example": "XOF"
          },
          "message": {
            "type": "string",
            "description": "Message d'information",
            "example": "Paiement initié avec succès. En attente de confirmation."
          }
        },
        "required": [
          "paiement_id",
          "reference_paiement",
          "statut_paiement",
          "montant",
          "message"
        ]
      },
      "UpdateCodeAgenceDto": {
        "type": "object",
        "properties": {
          "code_agence": {
            "type": "string",
            "description": "Code agence/intermédiaire (3 chiffres)",
            "example": "101",
            "pattern": "^\\d{3}$"
          }
        },
        "required": [
          "code_agence"
        ]
      },
      "DashboardStatsDto": {
        "type": "object",
        "properties": {
          "produits": {
            "type": "object",
            "description": "Statistiques des produits"
          },
          "primes": {
            "type": "object",
            "description": "Statistiques des primes collectées"
          },
          "clients": {
            "type": "object",
            "description": "Statistiques des clients"
          },
          "agents": {
            "type": "object",
            "description": "Statistiques des agents"
          },
          "devis": {
            "type": "object",
            "description": "Statistiques des devis"
          },
          "contrats": {
            "type": "object",
            "description": "Statistiques des contrats"
          }
        },
        "required": [
          "produits",
          "primes",
          "clients",
          "agents",
          "devis",
          "contrats"
        ]
      },
      "ChartDataDto": {
        "type": "object",
        "properties": {
          "evolutionPrimes": {
            "description": "Évolution mensuelle des primes (6 derniers mois)",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "repartitionProduits": {
            "type": "object",
            "description": "Répartition Vie/Non-vie"
          },
          "topProduits": {
            "description": "Top 5 produits les plus souscrits",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "topClients": {
            "description": "Top 5 clients (plus gros contributeurs)",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "derniersDevis": {
            "description": "Derniers devis créés",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "evolutionPrimes",
          "repartitionProduits",
          "topProduits",
          "topClients",
          "derniersDevis"
        ]
      },
      "AgentDashboardStatsDto": {
        "type": "object",
        "properties": {
          "clients": {
            "type": "object",
            "description": "Statistiques des clients"
          },
          "devis": {
            "type": "object",
            "description": "Statistiques des devis"
          },
          "contrats": {
            "type": "object",
            "description": "Statistiques des contrats"
          },
          "primes": {
            "type": "object",
            "description": "Statistiques des primes"
          }
        },
        "required": [
          "clients",
          "devis",
          "contrats",
          "primes"
        ]
      },
      "UpdateClientDto": {
        "type": "object",
        "properties": {}
      }
    }
  }
}